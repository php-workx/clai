=== RUN   TestAnalyzerBuildAnalysisContext_SmallOutput
--- PASS: TestAnalyzerBuildAnalysisContext_SmallOutput (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_StdoutOnly
--- PASS: TestAnalyzerBuildAnalysisContext_StdoutOnly (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_StderrOnly
--- PASS: TestAnalyzerBuildAnalysisContext_StderrOnly (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_Truncated
--- PASS: TestAnalyzerBuildAnalysisContext_Truncated (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_UTF8Boundary
--- PASS: TestAnalyzerBuildAnalysisContext_UTF8Boundary (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_WithSecretMasking
--- PASS: TestAnalyzerBuildAnalysisContext_WithSecretMasking (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_NilMasker
--- PASS: TestAnalyzerBuildAnalysisContext_NilMasker (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildAnalysisContext_DefaultMaxBytes
--- PASS: TestAnalyzerBuildAnalysisContext_DefaultMaxBytes (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildPrompt_WithCustomPrompt
--- PASS: TestAnalyzerBuildPrompt_WithCustomPrompt (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildPrompt_WithoutCustomPrompt
--- PASS: TestAnalyzerBuildPrompt_WithoutCustomPrompt (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildPrompt_DefaultRiskLevel
--- PASS: TestAnalyzerBuildPrompt_DefaultRiskLevel (0.00s)
=== NAME  
=== RUN   TestAnalyzerBuildPrompt_AllRiskLevels
--- PASS: TestAnalyzerBuildPrompt_AllRiskLevels (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_ValidJSON
--- PASS: TestParseAnalysisResponse_ValidJSON (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_ValidJSON_Reject
--- PASS: TestParseAnalysisResponse_ValidJSON_Reject (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_ValidJSON_NeedsHuman
--- PASS: TestParseAnalysisResponse_ValidJSON_NeedsHuman (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_JSONWithSurroundingText
--- PASS: TestParseAnalysisResponse_JSONWithSurroundingText (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_JSONInCodeBlock
--- PASS: TestParseAnalysisResponse_JSONInCodeBlock (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_PlainTextDecision
--- PASS: TestParseAnalysisResponse_PlainTextDecision (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_PlainTextDecisionReject
--- PASS: TestParseAnalysisResponse_PlainTextDecisionReject (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_GarbageInput
--- PASS: TestParseAnalysisResponse_GarbageInput (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_EmptyInput
--- PASS: TestParseAnalysisResponse_EmptyInput (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_InvalidJSONDecision
--- PASS: TestParseAnalysisResponse_InvalidJSONDecision (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_CaseInsensitive
--- PASS: TestParseAnalysisResponse_CaseInsensitive (0.00s)
=== NAME  
=== RUN   TestParseAnalysisResponse_ErrorDecision
--- PASS: TestParseAnalysisResponse_ErrorDecision (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ProceedLow
--- PASS: TestShouldPromptHuman_ProceedLow (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ProceedMedium
--- PASS: TestShouldPromptHuman_ProceedMedium (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ProceedHigh
--- PASS: TestShouldPromptHuman_ProceedHigh (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_HaltLow
--- PASS: TestShouldPromptHuman_HaltLow (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_HaltMedium
--- PASS: TestShouldPromptHuman_HaltMedium (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_HaltHigh
--- PASS: TestShouldPromptHuman_HaltHigh (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_NeedsHumanLow
--- PASS: TestShouldPromptHuman_NeedsHumanLow (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_NeedsHumanMedium
--- PASS: TestShouldPromptHuman_NeedsHumanMedium (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_NeedsHumanHigh
--- PASS: TestShouldPromptHuman_NeedsHumanHigh (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ErrorLow
--- PASS: TestShouldPromptHuman_ErrorLow (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ErrorMedium
--- PASS: TestShouldPromptHuman_ErrorMedium (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_ErrorHigh
--- PASS: TestShouldPromptHuman_ErrorHigh (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_UnknownDecision
--- PASS: TestShouldPromptHuman_UnknownDecision (0.00s)
=== NAME  
=== RUN   TestShouldPromptHuman_DefaultRiskLevel
--- PASS: TestShouldPromptHuman_DefaultRiskLevel (0.00s)
=== NAME  
=== RUN   TestRuneSliceBytes_NoTruncation
--- PASS: TestRuneSliceBytes_NoTruncation (0.00s)
=== NAME  
=== RUN   TestRuneSliceBytes_ExactBoundary
--- PASS: TestRuneSliceBytes_ExactBoundary (0.00s)
=== NAME  
=== RUN   TestRuneSliceBytes_MultiByte
--- PASS: TestRuneSliceBytes_MultiByte (0.00s)
=== NAME  
=== RUN   TestRuneSliceBytesFromEnd_NoTruncation
--- PASS: TestRuneSliceBytesFromEnd_NoTruncation (0.00s)
=== NAME  
=== RUN   TestRuneSliceBytesFromEnd_MultiByte
--- PASS: TestRuneSliceBytesFromEnd_MultiByte (0.00s)
=== NAME  
=== RUN   TestArtifact_WriteRunStart
--- PASS: TestArtifact_WriteRunStart (0.00s)
=== NAME  
=== RUN   TestArtifact_WriteMultipleEvents
--- PASS: TestArtifact_WriteMultipleEvents (0.00s)
=== NAME  
=== RUN   TestArtifact_EventTypes
--- PASS: TestArtifact_EventTypes (0.00s)
=== NAME  
=== RUN   TestArtifact_PathSanitization
=== RUN   TestArtifact_PathSanitization/slashes
--- PASS: TestArtifact_PathSanitization/slashes (0.00s)
=== NAME  TestArtifact_PathSanitization
=== RUN   TestArtifact_PathSanitization/backslashes
--- PASS: TestArtifact_PathSanitization/backslashes (0.00s)
=== NAME  TestArtifact_PathSanitization
=== RUN   TestArtifact_PathSanitization/colons
--- PASS: TestArtifact_PathSanitization/colons (0.00s)
=== NAME  TestArtifact_PathSanitization
=== RUN   TestArtifact_PathSanitization/special_chars
--- PASS: TestArtifact_PathSanitization/special_chars (0.00s)
=== NAME  TestArtifact_PathSanitization
=== RUN   TestArtifact_PathSanitization/path_traversal
--- PASS: TestArtifact_PathSanitization/path_traversal (0.00s)
=== NAME  TestArtifact_PathSanitization
--- PASS: TestArtifact_PathSanitization (0.00s)
=== NAME  
=== RUN   TestArtifact_Close
--- PASS: TestArtifact_Close (0.00s)
=== NAME  
=== RUN   TestArtifact_WriteAfterClose
2026/02/20 09:31:33 WARN artifact: write event error="write /var/folders/cw/7cjc3nt55wl119pn0t4z7rmc0000gn/T/TestArtifact_WriteAfterClose361164206/001/run-after-close.jsonl: file already closed" type=run_end
--- PASS: TestArtifact_WriteAfterClose (0.00s)
=== NAME  
=== RUN   TestArtifact_Path
--- PASS: TestArtifact_Path (0.00s)
=== NAME  
=== RUN   TestArtifact_StepStartWithMatrixKey
--- PASS: TestArtifact_StepStartWithMatrixKey (0.01s)
=== NAME  
=== RUN   TestLimitedBuffer_Basic
--- PASS: TestLimitedBuffer_Basic (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_Overflow
--- PASS: TestLimitedBuffer_Overflow (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_ExactCapacity
--- PASS: TestLimitedBuffer_ExactCapacity (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_MultipleWrites
--- PASS: TestLimitedBuffer_MultipleWrites (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_LargeWrite
--- PASS: TestLimitedBuffer_LargeWrite (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_ConcurrentWrites
--- PASS: TestLimitedBuffer_ConcurrentWrites (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_Reset
--- PASS: TestLimitedBuffer_Reset (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_EmptyWrite
--- PASS: TestLimitedBuffer_EmptyWrite (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_DefaultCapacity
--- PASS: TestLimitedBuffer_DefaultCapacity (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_NegativeCapacity
--- PASS: TestLimitedBuffer_NegativeCapacity (0.00s)
=== NAME  
=== RUN   TestLimitedBuffer_BytesReturnsCopy
--- PASS: TestLimitedBuffer_BytesReturnsCopy (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_RunStart
--- PASS: TestDisplay_TTY_RunStart (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepStart
--- PASS: TestDisplay_TTY_StepStart (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepStart_NoMatrixKey
--- PASS: TestDisplay_TTY_StepStart_NoMatrixKey (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepEnd_ReplacesActiveLine
--- PASS: TestDisplay_TTY_StepEnd_ReplacesActiveLine (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepEnd_Passed
--- PASS: TestDisplay_TTY_StepEnd_Passed (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepEnd_Failed
--- PASS: TestDisplay_TTY_StepEnd_Failed (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepEnd_Skipped
--- PASS: TestDisplay_TTY_StepEnd_Skipped (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_AnalysisStart
--- PASS: TestDisplay_TTY_AnalysisStart (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_AnalysisEnd_Proceed
--- PASS: TestDisplay_TTY_AnalysisEnd_Proceed (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_AnalysisEnd_Halt
--- PASS: TestDisplay_TTY_AnalysisEnd_Halt (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_ReviewPrompt
--- PASS: TestDisplay_TTY_ReviewPrompt (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_RunEnd_AllPassed
--- PASS: TestDisplay_TTY_RunEnd_AllPassed (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_RunEnd_WithFailures
--- PASS: TestDisplay_TTY_RunEnd_WithFailures (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_RunEnd_NoSteps
--- PASS: TestDisplay_TTY_RunEnd_NoSteps (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_RunStart
--- PASS: TestDisplay_Plain_RunStart (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_StepStart
--- PASS: TestDisplay_Plain_StepStart (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_StepEnd_Passed
--- PASS: TestDisplay_Plain_StepEnd_Passed (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_StepEnd_Failed
--- PASS: TestDisplay_Plain_StepEnd_Failed (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_StepEnd_Skipped
--- PASS: TestDisplay_Plain_StepEnd_Skipped (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepError
--- PASS: TestDisplay_TTY_StepError (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepError_FallbackToStdout
--- PASS: TestDisplay_TTY_StepError_FallbackToStdout (0.00s)
=== NAME  
=== RUN   TestDisplay_TTY_StepError_Empty
--- PASS: TestDisplay_TTY_StepError_Empty (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_StepError
--- PASS: TestDisplay_Plain_StepError (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_AnalysisStart
--- PASS: TestDisplay_Plain_AnalysisStart (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_AnalysisEnd
--- PASS: TestDisplay_Plain_AnalysisEnd (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_ReviewPrompt
--- PASS: TestDisplay_Plain_ReviewPrompt (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_RunEnd
--- PASS: TestDisplay_Plain_RunEnd (0.00s)
=== NAME  
=== RUN   TestDisplay_MatrixKey_Present
--- PASS: TestDisplay_MatrixKey_Present (0.00s)
=== NAME  
=== RUN   TestDisplay_MatrixKey_Empty
--- PASS: TestDisplay_MatrixKey_Empty (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_MatrixKey_Present
--- PASS: TestDisplay_Plain_MatrixKey_Present (0.00s)
=== NAME  
=== RUN   TestDisplay_Plain_MatrixKey_Empty
--- PASS: TestDisplay_Plain_MatrixKey_Empty (0.00s)
=== NAME  
=== RUN   TestFormatDuration
=== RUN   TestFormatDuration/0.00s
--- PASS: TestFormatDuration/0.00s (0.00s)
=== NAME  TestFormatDuration
=== RUN   TestFormatDuration/0.00s#01
--- PASS: TestFormatDuration/0.00s#01 (0.00s)
=== NAME  TestFormatDuration
=== RUN   TestFormatDuration/0.01s
--- PASS: TestFormatDuration/0.01s (0.00s)
=== NAME  TestFormatDuration
=== RUN   TestFormatDuration/0.10s
--- PASS: TestFormatDuration/0.10s (0.00s)
=== NAME  TestFormatDuration
=== RUN   TestFormatDuration/1.23s
--- PASS: TestFormatDuration/1.23s (0.00s)
=== NAME  TestFormatDuration
=== RUN   TestFormatDuration/90.00s
--- PASS: TestFormatDuration/90.00s (0.00s)
=== NAME  TestFormatDuration
--- PASS: TestFormatDuration (0.00s)
=== NAME  
=== RUN   TestFormatSummary
=== RUN   TestFormatSummary/0_passed
--- PASS: TestFormatSummary/0_passed (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/3_passed
--- PASS: TestFormatSummary/3_passed (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/1_passed,_1_failed
--- PASS: TestFormatSummary/1_passed,_1_failed (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/1_passed,_1_failed,_1_skipped
--- PASS: TestFormatSummary/1_passed,_1_failed,_1_skipped (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/1_failed
--- PASS: TestFormatSummary/1_failed (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/2_skipped
--- PASS: TestFormatSummary/2_skipped (0.00s)
=== NAME  TestFormatSummary
=== RUN   TestFormatSummary/1_cancelled
--- PASS: TestFormatSummary/1_cancelled (0.00s)
=== NAME  TestFormatSummary
--- PASS: TestFormatSummary (0.00s)
=== NAME  
=== RUN   TestCountStatuses
--- PASS: TestCountStatuses (0.00s)
=== NAME  
=== RUN   TestIconForDecision
--- PASS: TestIconForDecision (0.00s)
=== NAME  
=== RUN   TestDisplay_FullTTYSequence
--- PASS: TestDisplay_FullTTYSequence (0.00s)
=== NAME  
=== RUN   TestDisplay_FullPlainSequence
--- PASS: TestDisplay_FullPlainSequence (0.00s)
=== NAME  
=== RUN   TestExpressionSingleEnv
--- PASS: TestExpressionSingleEnv (0.00s)
=== NAME  
=== RUN   TestExpressionSingleMatrix
--- PASS: TestExpressionSingleMatrix (0.00s)
=== NAME  
=== RUN   TestExpressionStepOutput
--- PASS: TestExpressionStepOutput (0.00s)
=== NAME  
=== RUN   TestExpressionMultiple
--- PASS: TestExpressionMultiple (0.00s)
=== NAME  
=== RUN   TestExpressionUnresolved
--- PASS: TestExpressionUnresolved (0.00s)
=== NAME  
=== RUN   TestExpressionEmpty
--- PASS: TestExpressionEmpty (0.00s)
=== NAME  
=== RUN   TestExpressionInvalidNamespace
--- PASS: TestExpressionInvalidNamespace (0.00s)
=== NAME  
=== RUN   TestExpressionStepsMissingOutputKey
--- PASS: TestExpressionStepsMissingOutputKey (0.00s)
=== NAME  
=== RUN   TestExpressionNoExpressions
--- PASS: TestExpressionNoExpressions (0.00s)
=== NAME  
=== RUN   TestExpressionNilContextWithExpressions
--- PASS: TestExpressionNilContextWithExpressions (0.00s)
=== NAME  
=== RUN   TestExpressionWhitespaceHandling
=== RUN   TestExpressionWhitespaceHandling/no_spaces
--- PASS: TestExpressionWhitespaceHandling/no_spaces (0.00s)
=== NAME  TestExpressionWhitespaceHandling
=== RUN   TestExpressionWhitespaceHandling/single_spaces
--- PASS: TestExpressionWhitespaceHandling/single_spaces (0.00s)
=== NAME  TestExpressionWhitespaceHandling
=== RUN   TestExpressionWhitespaceHandling/extra_spaces
--- PASS: TestExpressionWhitespaceHandling/extra_spaces (0.00s)
=== NAME  TestExpressionWhitespaceHandling
=== RUN   TestExpressionWhitespaceHandling/tabs
--- PASS: TestExpressionWhitespaceHandling/tabs (0.00s)
=== NAME  TestExpressionWhitespaceHandling
--- PASS: TestExpressionWhitespaceHandling (0.00s)
=== NAME  
=== RUN   TestExpressionInvalidFormat
--- PASS: TestExpressionInvalidFormat (0.00s)
=== NAME  
=== RUN   TestExpressionStepsInvalidSegment
--- PASS: TestExpressionStepsInvalidSegment (0.00s)
=== NAME  
=== RUN   TestExpressionStepsTooFewParts
--- PASS: TestExpressionStepsTooFewParts (0.00s)
=== NAME  
=== RUN   TestExpressionNilEnvMap
--- PASS: TestExpressionNilEnvMap (0.00s)
=== NAME  
=== RUN   TestExpressionNilMatrixMap
--- PASS: TestExpressionNilMatrixMap (0.00s)
=== NAME  
=== RUN   TestExpressionNilStepsMap
--- PASS: TestExpressionNilStepsMap (0.00s)
=== NAME  
=== RUN   TestExpressionMissingStepID
--- PASS: TestExpressionMissingStepID (0.00s)
=== NAME  
=== RUN   TestExpressionEmbeddedInText
--- PASS: TestExpressionEmbeddedInText (0.00s)
=== NAME  
=== RUN   TestExpressionEmptyValue
--- PASS: TestExpressionEmptyValue (0.00s)
=== NAME  
=== RUN   TestIntegration_HappyPath
--- PASS: TestIntegration_HappyPath (0.02s)
=== NAME  
=== RUN   TestIntegration_StepFailure
--- PASS: TestIntegration_StepFailure (0.01s)
=== NAME  
=== RUN   TestIntegration_MatrixExpansion
=== RUN   TestIntegration_MatrixExpansion/matrix-linux
--- PASS: TestIntegration_MatrixExpansion/matrix-linux (0.01s)
=== NAME  TestIntegration_MatrixExpansion
=== RUN   TestIntegration_MatrixExpansion/matrix-darwin
--- PASS: TestIntegration_MatrixExpansion/matrix-darwin (0.01s)
=== NAME  TestIntegration_MatrixExpansion
--- PASS: TestIntegration_MatrixExpansion (0.01s)
=== NAME  
=== RUN   TestIntegration_ContextCancellation
--- PASS: TestIntegration_ContextCancellation (0.30s)
=== NAME  
=== RUN   TestIntegration_ValidateCommand
--- PASS: TestIntegration_ValidateCommand (0.00s)
=== NAME  
=== RUN   TestIntegration_RunArtifact
--- PASS: TestIntegration_RunArtifact (0.00s)
=== NAME  
=== RUN   TestIntegration_SecretMasking
--- PASS: TestIntegration_SecretMasking (0.00s)
=== NAME  
=== RUN   TestIntegration_SecretMasking_InRunner
--- PASS: TestIntegration_SecretMasking_InRunner (0.01s)
=== NAME  
=== RUN   TestIntegration_DisplayOutput
=== RUN   TestIntegration_DisplayOutput/plain_mode
--- PASS: TestIntegration_DisplayOutput/plain_mode (0.00s)
=== NAME  TestIntegration_DisplayOutput
=== RUN   TestIntegration_DisplayOutput/TTY_mode
--- PASS: TestIntegration_DisplayOutput/TTY_mode (0.00s)
=== NAME  TestIntegration_DisplayOutput
=== RUN   TestIntegration_DisplayOutput/plain_mode_with_step_statuses
--- PASS: TestIntegration_DisplayOutput/plain_mode_with_step_statuses (0.00s)
=== NAME  TestIntegration_DisplayOutput
--- PASS: TestIntegration_DisplayOutput (0.00s)
=== NAME  
=== RUN   TestIntegration_FullPipelineWithOutputFile
--- PASS: TestIntegration_FullPipelineWithOutputFile (0.01s)
=== NAME  
=== RUN   TestParseOutputFile_SingleValid
--- PASS: TestParseOutputFile_SingleValid (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_Multiple
--- PASS: TestParseOutputFile_Multiple (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_ValueWithEquals
--- PASS: TestParseOutputFile_ValueWithEquals (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_EmptyValue
--- PASS: TestParseOutputFile_EmptyValue (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_InvalidKeyStartsWithDigit
2026/02/20 09:31:33 WARN output: skipping invalid key path=/var/folders/cw/7cjc3nt55wl119pn0t4z7rmc0000gn/T/TestParseOutputFile_InvalidKeyStartsWithDigit2041458147/001/output line=1 key=1BAD
--- PASS: TestParseOutputFile_InvalidKeyStartsWithDigit (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_MissingFile
--- PASS: TestParseOutputFile_MissingFile (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_EmptyFile
--- PASS: TestParseOutputFile_EmptyFile (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_BlankLinesAndComments
--- PASS: TestParseOutputFile_BlankLinesAndComments (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_MixedValidInvalid
2026/02/20 09:31:33 WARN output: skipping invalid key path=/var/folders/cw/7cjc3nt55wl119pn0t4z7rmc0000gn/T/TestParseOutputFile_MixedValidInvalid3986065620/001/output line=2 key=1BAD
2026/02/20 09:31:33 WARN output: skipping malformed line (no '=') path=/var/folders/cw/7cjc3nt55wl119pn0t4z7rmc0000gn/T/TestParseOutputFile_MixedValidInvalid3986065620/001/output line=3
--- PASS: TestParseOutputFile_MixedValidInvalid (0.00s)
=== NAME  
=== RUN   TestParseOutputFile_UnderscoreKey
--- PASS: TestParseOutputFile_UnderscoreKey (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_ValidMinimal
--- PASS: TestParseWorkflow_ValidMinimal (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_WithDescription
--- PASS: TestParseWorkflow_WithDescription (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_FullExample
--- PASS: TestParseWorkflow_FullExample (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_ShellFieldBoolTrue
--- PASS: TestParseWorkflow_ShellFieldBoolTrue (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_ShellFieldBoolFalse
--- PASS: TestParseWorkflow_ShellFieldBoolFalse (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/sh
--- PASS: TestParseWorkflow_ShellFieldString/sh (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/bash
--- PASS: TestParseWorkflow_ShellFieldString/bash (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/zsh
--- PASS: TestParseWorkflow_ShellFieldString/zsh (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/fish
--- PASS: TestParseWorkflow_ShellFieldString/fish (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/pwsh
--- PASS: TestParseWorkflow_ShellFieldString/pwsh (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
=== RUN   TestParseWorkflow_ShellFieldString/cmd
--- PASS: TestParseWorkflow_ShellFieldString/cmd (0.00s)
=== NAME  TestParseWorkflow_ShellFieldString
--- PASS: TestParseWorkflow_ShellFieldString (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_ShellOmitted
--- PASS: TestParseWorkflow_ShellOmitted (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_UnknownFieldsRejected
--- PASS: TestParseWorkflow_UnknownFieldsRejected (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_UnknownTopLevelField
--- PASS: TestParseWorkflow_UnknownTopLevelField (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_UnknownJobField
--- PASS: TestParseWorkflow_UnknownJobField (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_EmptyInput
--- PASS: TestParseWorkflow_EmptyInput (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_InvalidYAML
--- PASS: TestParseWorkflow_InvalidYAML (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_StepEnv
--- PASS: TestParseWorkflow_StepEnv (0.00s)
=== NAME  
=== RUN   TestParseWorkflow_MatrixInclude
--- PASS: TestParseWorkflow_MatrixInclude (0.00s)
=== NAME  
=== RUN   TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/simple
--- PASS: TestSanitizePathComponent/simple (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/empty
--- PASS: TestSanitizePathComponent/empty (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/slashes
--- PASS: TestSanitizePathComponent/slashes (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/colons
--- PASS: TestSanitizePathComponent/colons (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/special_chars
--- PASS: TestSanitizePathComponent/special_chars (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/dots_only
--- PASS: TestSanitizePathComponent/dots_only (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/path_traversal
--- PASS: TestSanitizePathComponent/path_traversal (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/windows_reserved_CON
--- PASS: TestSanitizePathComponent/windows_reserved_CON (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/windows_reserved_con_lowercase
--- PASS: TestSanitizePathComponent/windows_reserved_con_lowercase (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/windows_reserved_NUL
--- PASS: TestSanitizePathComponent/windows_reserved_NUL (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/windows_reserved_COM1
--- PASS: TestSanitizePathComponent/windows_reserved_COM1 (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/leading_dots
--- PASS: TestSanitizePathComponent/leading_dots (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/trailing_dots
--- PASS: TestSanitizePathComponent/trailing_dots (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/leading_spaces
--- PASS: TestSanitizePathComponent/leading_spaces (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/control_chars
--- PASS: TestSanitizePathComponent/control_chars (0.00s)
=== NAME  TestSanitizePathComponent
=== RUN   TestSanitizePathComponent/unicode_safe
--- PASS: TestSanitizePathComponent/unicode_safe (0.00s)
=== NAME  TestSanitizePathComponent
--- PASS: TestSanitizePathComponent (0.00s)
=== NAME  
=== RUN   TestSanitizePathComponent_Truncation
--- PASS: TestSanitizePathComponent_Truncation (0.00s)
=== NAME  
=== RUN   TestNewProcessController
--- PASS: TestNewProcessController (0.00s)
=== NAME  
=== RUN   TestStartConfiguresProcessGroup
--- PASS: TestStartConfiguresProcessGroup (0.00s)
=== NAME  
=== RUN   TestWaitNormalCompletion
--- PASS: TestWaitNormalCompletion (0.00s)
=== NAME  
=== RUN   TestWaitContextCancellation
--- PASS: TestWaitContextCancellation (0.10s)
=== NAME  
=== RUN   TestInterruptWithoutStart
--- PASS: TestInterruptWithoutStart (0.00s)
=== NAME  
=== RUN   TestKillWithoutStart
--- PASS: TestKillWithoutStart (0.00s)
=== NAME  
=== RUN   TestWaitWithoutStart
--- PASS: TestWaitWithoutStart (0.00s)
=== NAME  
=== RUN   TestKillTerminatesProcess
--- PASS: TestKillTerminatesProcess (0.00s)
=== NAME  
=== RUN   TestReviewTerminalApprove
--- PASS: TestReviewTerminalApprove (0.00s)
=== NAME  
=== RUN   TestReviewTerminalReject
--- PASS: TestReviewTerminalReject (0.00s)
=== NAME  
=== RUN   TestReviewTerminalInspectThenApprove
--- PASS: TestReviewTerminalInspectThenApprove (0.00s)
=== NAME  
=== RUN   TestReviewTerminalCommand
--- PASS: TestReviewTerminalCommand (0.00s)
=== NAME  
=== RUN   TestReviewTerminalQuestion
--- PASS: TestReviewTerminalQuestion (0.00s)
=== NAME  
=== RUN   TestReviewTerminalInvalidThenApprove
--- PASS: TestReviewTerminalInvalidThenApprove (0.00s)
=== NAME  
=== RUN   TestReviewTerminalContextCancelled
--- PASS: TestReviewTerminalContextCancelled (0.00s)
=== NAME  
=== RUN   TestReviewNonInteractiveAlwaysRejects
--- PASS: TestReviewNonInteractiveAlwaysRejects (0.00s)
=== NAME  
=== RUN   TestReviewScriptedApprove
--- PASS: TestReviewScriptedApprove (0.00s)
=== NAME  
=== RUN   TestReviewScriptedSequence
--- PASS: TestReviewScriptedSequence (0.00s)
=== NAME  
=== RUN   TestReviewScriptedExhausted
--- PASS: TestReviewScriptedExhausted (0.00s)
=== NAME  
=== RUN   TestRunner_SingleStep_Success
--- PASS: TestRunner_SingleStep_Success (0.01s)
=== NAME  
=== RUN   TestRunner_SingleStep_Failure
--- PASS: TestRunner_SingleStep_Failure (0.01s)
=== NAME  
=== RUN   TestRunner_MultipleSteps_Success
--- PASS: TestRunner_MultipleSteps_Success (0.02s)
=== NAME  
=== RUN   TestRunner_FailureSkipsRemaining
--- PASS: TestRunner_FailureSkipsRemaining (0.01s)
=== NAME  
=== RUN   TestRunner_ExpressionResolution
--- PASS: TestRunner_ExpressionResolution (0.01s)
=== NAME  
=== RUN   TestRunner_OutputParsing
--- PASS: TestRunner_OutputParsing (0.01s)
=== NAME  
=== RUN   TestRunner_ContextCancellation
--- PASS: TestRunner_ContextCancellation (0.20s)
=== NAME  
=== RUN   TestRunner_EnvPrecedence
--- PASS: TestRunner_EnvPrecedence (0.01s)
=== NAME  
=== RUN   TestRunner_EnvPrecedence_JobOverridesWorkflow
--- PASS: TestRunner_EnvPrecedence_JobOverridesWorkflow (0.01s)
=== NAME  
=== RUN   TestRunner_MatrixVars
--- PASS: TestRunner_MatrixVars (0.01s)
=== NAME  
=== RUN   TestRunner_StderrCapture
--- PASS: TestRunner_StderrCapture (0.01s)
=== NAME  
=== RUN   TestRunner_EmptySteps
--- PASS: TestRunner_EmptySteps (0.00s)
=== NAME  
=== RUN   TestRunner_NonZeroExitCode
--- PASS: TestRunner_NonZeroExitCode (0.01s)
=== NAME  
=== RUN   TestRunner_MultipleOutputs
--- PASS: TestRunner_MultipleOutputs (0.01s)
=== NAME  
=== RUN   TestRunner_OutputEnvInheritedByDownstreamStep
--- PASS: TestRunner_OutputEnvInheritedByDownstreamStep (0.01s)
=== NAME  
=== RUN   TestRunner_OutputParseErrorIsNonFatal
2026/02/20 09:31:34 WARN failed to parse step output file step="Write oversized output line" error="bufio.Scanner: token too long"
--- PASS: TestRunner_OutputParseErrorIsNonFatal (0.01s)
=== NAME  
=== RUN   TestMergeEnv
--- PASS: TestMergeEnv (0.00s)
=== NAME  
=== RUN   TestMergeEnv_VarOverridesWin
--- PASS: TestMergeEnv_VarOverridesWin (0.00s)
=== NAME  
=== RUN   TestExitCodeFromError
--- PASS: TestExitCodeFromError (0.01s)
=== NAME  
=== RUN   TestRunner_BufferSizeConfig
--- PASS: TestRunner_BufferSizeConfig (0.02s)
=== NAME  
=== RUN   TestRunner_StepCallback
--- PASS: TestRunner_StepCallback (0.01s)
=== NAME  
=== RUN   TestRunner_StepCallback_SkippedStepsNoCallback
--- PASS: TestRunner_StepCallback_SkippedStepsNoCallback (0.01s)
=== NAME  
=== RUN   TestRunner_RiskLevelExpressionResolution
--- PASS: TestRunner_RiskLevelExpressionResolution (0.01s)
=== NAME  
=== RUN   TestRunner_StepCallback_ErrorHaltsExecution
--- PASS: TestRunner_StepCallback_ErrorHaltsExecution (0.01s)
=== NAME  
=== RUN   TestRunner_VarOverridesMatrix
--- PASS: TestRunner_VarOverridesMatrix (0.01s)
=== NAME  
=== RUN   TestRunner_WorkDir
--- PASS: TestRunner_WorkDir (0.01s)
=== NAME  
=== RUN   TestSecretMasker_SingleSecret
--- PASS: TestSecretMasker_SingleSecret (0.00s)
=== NAME  
=== RUN   TestSecretMasker_MultipleSecrets_OverlappingSubstrings
--- PASS: TestSecretMasker_MultipleSecrets_OverlappingSubstrings (0.00s)
=== NAME  
=== RUN   TestSecretMasker_EmptyEnvValue
--- PASS: TestSecretMasker_EmptyEnvValue (0.00s)
=== NAME  
=== RUN   TestSecretMasker_NilMasker
--- PASS: TestSecretMasker_NilMasker (0.00s)
=== NAME  
=== RUN   TestSecretMasker_NoSecrets
--- PASS: TestSecretMasker_NoSecrets (0.00s)
=== NAME  
=== RUN   TestSecretMasker_EmptySlice
--- PASS: TestSecretMasker_EmptySlice (0.00s)
=== NAME  
=== RUN   TestSecretMasker_MultipleOccurrences
--- PASS: TestSecretMasker_MultipleOccurrences (0.00s)
=== NAME  
=== RUN   TestSecretMasker_MaskBytes
--- PASS: TestSecretMasker_MaskBytes (0.00s)
=== NAME  
=== RUN   TestSecretMasker_NonEnvSourceSkipped
--- PASS: TestSecretMasker_NonEnvSourceSkipped (0.00s)
=== NAME  
=== RUN   TestSecretMasker_SecretNames
--- PASS: TestSecretMasker_SecretNames (0.00s)
=== NAME  
=== RUN   TestSecretMasker_SortedValuesKeepNameAlignment
--- PASS: TestSecretMasker_SortedValuesKeepNameAlignment (0.00s)
=== NAME  
=== RUN   TestSecretMasker_UnsetEnvSkipped
--- PASS: TestSecretMasker_UnsetEnvSkipped (0.00s)
=== NAME  
=== RUN   TestNewShellAdapter
--- PASS: TestNewShellAdapter (0.00s)
=== NAME  
=== RUN   TestBuildCommand_ArgvMode
--- PASS: TestBuildCommand_ArgvMode (0.00s)
=== NAME  
=== RUN   TestBuildCommand_ArgvMode_QuotedArgs
--- PASS: TestBuildCommand_ArgvMode_QuotedArgs (0.01s)
=== NAME  
=== RUN   TestBuildCommand_ArgvMode_QuotedString
--- PASS: TestBuildCommand_ArgvMode_QuotedString (0.00s)
=== NAME  
=== RUN   TestBuildCommand_ShellModeTrue
--- PASS: TestBuildCommand_ShellModeTrue (0.00s)
=== NAME  
=== RUN   TestBuildCommand_ShellModeOmittedDefaultsToShell
--- PASS: TestBuildCommand_ShellModeOmittedDefaultsToShell (0.00s)
=== NAME  
=== RUN   TestBuildCommand_ExplicitShell
--- PASS: TestBuildCommand_ExplicitShell (0.00s)
=== NAME  
=== RUN   TestBuildCommand_CLAIOutputEnv
--- PASS: TestBuildCommand_CLAIOutputEnv (0.00s)
=== NAME  
=== RUN   TestBuildCommand_EnvMerging
--- PASS: TestBuildCommand_EnvMerging (0.00s)
=== NAME  
=== RUN   TestBuildCommand_EmptyRun
--- PASS: TestBuildCommand_EmptyRun (0.00s)
=== NAME  
=== RUN   TestBuildCommand_WorkDir
--- PASS: TestBuildCommand_WorkDir (0.00s)
=== NAME  
=== RUN   TestBuildCommand_NilEnv
--- PASS: TestBuildCommand_NilEnv (0.00s)
=== NAME  
=== RUN   TestTransport_DaemonUnavailable_FallbackLLM
2026/02/20 09:31:34 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_DaemonUnavailable_FallbackLLM (0.00s)
=== NAME  
=== RUN   TestTransport_DaemonUnavailable_NoFallback
2026/02/20 09:31:34 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_DaemonUnavailable_NoFallback (0.00s)
=== NAME  
=== RUN   TestTransport_DaemonUnavailable_NilAnalyzer
2026/02/20 09:31:34 WARN analysis transport analyzer is nil; sanitized output unavailable
2026/02/20 09:31:34 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_DaemonUnavailable_NilAnalyzer (0.00s)
=== NAME  
=== RUN   TestTransport_DaemonUnavailable_NilAnalyzer_DoesNotCallDirectLLM
2026/02/20 09:31:34 WARN analysis transport analyzer is nil; sanitized output unavailable
2026/02/20 09:31:34 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_DaemonUnavailable_NilAnalyzer_DoesNotCallDirectLLM (0.00s)
=== NAME  
=== RUN   TestTransport_DirectLLMFailure
2026/02/20 09:31:34 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
2026/02/20 09:31:34 WARN LLM analysis attempt failed attempt=1 error="LLM service unavailable"
2026/02/20 09:31:34 INFO retrying LLM analysis attempt=2 backoff=1s
2026/02/20 09:31:35 WARN LLM analysis attempt failed attempt=2 error="LLM service unavailable"
2026/02/20 09:31:35 INFO retrying LLM analysis attempt=3 backoff=2s
2026/02/20 09:31:37 WARN LLM analysis attempt failed attempt=3 error="LLM service unavailable"
--- PASS: TestTransport_DirectLLMFailure (3.00s)
=== NAME  
=== RUN   TestTransport_DirectLLMFailure_NegativeRetries
2026/02/20 09:31:37 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
2026/02/20 09:31:37 WARN LLM analysis attempt failed attempt=1 error="LLM unavailable"
--- PASS: TestTransport_DirectLLMFailure_NegativeRetries (0.00s)
=== NAME  
=== RUN   TestTransport_DaemonUnavailable_FallbackParseError
2026/02/20 09:31:37 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_DaemonUnavailable_FallbackParseError (0.00s)
=== NAME  
=== RUN   TestTransport_FallbackReceivesCorrectPrompt
2026/02/20 09:31:37 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_FallbackReceivesCorrectPrompt (0.00s)
=== NAME  
=== RUN   TestTransport_FallbackWithSecretMasking
2026/02/20 09:31:37 WARN daemon unavailable for analysis, using direct LLM fallback error="dial daemon: connection refused"
--- PASS: TestTransport_FallbackWithSecretMasking (0.00s)
=== NAME  
=== RUN   TestProtoToResult_WithFlags
--- PASS: TestProtoToResult_WithFlags (0.00s)
=== NAME  
=== RUN   TestProtoToResult_EmptyFlags
--- PASS: TestProtoToResult_EmptyFlags (0.00s)
=== NAME  
=== RUN   TestProtoToResult_InvalidFlagsJSON
--- PASS: TestProtoToResult_InvalidFlagsJSON (0.00s)
=== NAME  
=== RUN   TestProtoToResult_LegacyArrayFlags
--- PASS: TestProtoToResult_LegacyArrayFlags (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_Valid
--- PASS: TestValidateWorkflow_Valid (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_MissingName
--- PASS: TestValidateWorkflow_MissingName (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_NoJobs
--- PASS: TestValidateWorkflow_NoJobs (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_JobNoSteps
--- PASS: TestValidateWorkflow_JobNoSteps (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_StepMissingName
--- PASS: TestValidateWorkflow_StepMissingName (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_StepMissingRun
--- PASS: TestValidateWorkflow_StepMissingRun (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_StepMissingID
--- PASS: TestValidateWorkflow_StepMissingID (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_DuplicateStepIDs
--- PASS: TestValidateWorkflow_DuplicateStepIDs (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_MultiJobNotSupportedInV0
--- PASS: TestValidateWorkflow_MultiJobNotSupportedInV0 (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_InvalidRiskLevel
--- PASS: TestValidateWorkflow_InvalidRiskLevel (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_ValidRiskLevels
=== RUN   TestValidateWorkflow_ValidRiskLevels/empty
--- PASS: TestValidateWorkflow_ValidRiskLevels/empty (0.00s)
=== NAME  TestValidateWorkflow_ValidRiskLevels
=== RUN   TestValidateWorkflow_ValidRiskLevels/low
--- PASS: TestValidateWorkflow_ValidRiskLevels/low (0.00s)
=== NAME  TestValidateWorkflow_ValidRiskLevels
=== RUN   TestValidateWorkflow_ValidRiskLevels/medium
--- PASS: TestValidateWorkflow_ValidRiskLevels/medium (0.00s)
=== NAME  TestValidateWorkflow_ValidRiskLevels
=== RUN   TestValidateWorkflow_ValidRiskLevels/high
--- PASS: TestValidateWorkflow_ValidRiskLevels/high (0.00s)
=== NAME  TestValidateWorkflow_ValidRiskLevels
--- PASS: TestValidateWorkflow_ValidRiskLevels (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_RiskLevelWithExpression
--- PASS: TestValidateWorkflow_RiskLevelWithExpression (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_AnalyzeMissingPrompt
--- PASS: TestValidateWorkflow_AnalyzeMissingPrompt (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_AnalyzeWithPrompt
--- PASS: TestValidateWorkflow_AnalyzeWithPrompt (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_InvalidShell
--- PASS: TestValidateWorkflow_InvalidShell (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/empty
--- PASS: TestValidateWorkflow_ValidShells/empty (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/true
--- PASS: TestValidateWorkflow_ValidShells/true (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/false
--- PASS: TestValidateWorkflow_ValidShells/false (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/sh
--- PASS: TestValidateWorkflow_ValidShells/sh (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/bash
--- PASS: TestValidateWorkflow_ValidShells/bash (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/zsh
--- PASS: TestValidateWorkflow_ValidShells/zsh (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/fish
--- PASS: TestValidateWorkflow_ValidShells/fish (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/pwsh
--- PASS: TestValidateWorkflow_ValidShells/pwsh (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
=== RUN   TestValidateWorkflow_ValidShells/cmd
--- PASS: TestValidateWorkflow_ValidShells/cmd (0.00s)
=== NAME  TestValidateWorkflow_ValidShells
--- PASS: TestValidateWorkflow_ValidShells (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_InvalidSecretSource
--- PASS: TestValidateWorkflow_InvalidSecretSource (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_ValidSecretSources
=== RUN   TestValidateWorkflow_ValidSecretSources/env
--- PASS: TestValidateWorkflow_ValidSecretSources/env (0.00s)
=== NAME  TestValidateWorkflow_ValidSecretSources
=== RUN   TestValidateWorkflow_ValidSecretSources/file
--- PASS: TestValidateWorkflow_ValidSecretSources/file (0.00s)
=== NAME  TestValidateWorkflow_ValidSecretSources
=== RUN   TestValidateWorkflow_ValidSecretSources/interactive
--- PASS: TestValidateWorkflow_ValidSecretSources/interactive (0.00s)
=== NAME  TestValidateWorkflow_ValidSecretSources
--- PASS: TestValidateWorkflow_ValidSecretSources (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_SecretMissingName
--- PASS: TestValidateWorkflow_SecretMissingName (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_EmptyRequiresEntry
--- PASS: TestValidateWorkflow_EmptyRequiresEntry (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_CollectsAllErrors
--- PASS: TestValidateWorkflow_CollectsAllErrors (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_NilWorkflow
--- PASS: TestValidateWorkflow_NilWorkflow (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_NilJobDefinition
--- PASS: TestValidateWorkflow_NilJobDefinition (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_NilStepDefinition
--- PASS: TestValidateWorkflow_NilStepDefinition (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_UnknownNeed
--- PASS: TestValidateWorkflow_UnknownNeed (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_DependencyCycle
--- PASS: TestValidateWorkflow_DependencyCycle (0.00s)
=== NAME  
=== RUN   TestValidateWorkflow_MatrixIncludeKeysMustMatch
--- PASS: TestValidateWorkflow_MatrixIncludeKeysMustMatch (0.00s)
=== NAME  
PASS
ok  	github.com/runger/clai/internal/workflow	5.608s
