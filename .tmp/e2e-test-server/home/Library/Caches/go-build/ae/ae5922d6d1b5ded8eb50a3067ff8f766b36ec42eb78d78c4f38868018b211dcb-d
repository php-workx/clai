=== RUN   TestHandler_NewHandler
=== PAUSE TestHandler_NewHandler
=== NAME  
=== RUN   TestHandler_HandleSuggest_CacheHit
=== PAUSE TestHandler_HandleSuggest_CacheHit
=== NAME  
=== RUN   TestHandler_HandleSuggest_CacheMiss
=== PAUSE TestHandler_HandleSuggest_CacheMiss
=== NAME  
=== RUN   TestHandler_HandleSuggest_MissingSessionID
=== PAUSE TestHandler_HandleSuggest_MissingSessionID
=== NAME  
=== RUN   TestHandler_HandleSuggest_InvalidJSON
=== PAUSE TestHandler_HandleSuggest_InvalidJSON
=== NAME  
=== RUN   TestHandler_HandleSuggest_WithLimit
=== PAUSE TestHandler_HandleSuggest_WithLimit
=== NAME  
=== RUN   TestHandler_HandleSearch_FTS5Unavailable
=== PAUSE TestHandler_HandleSearch_FTS5Unavailable
=== NAME  
=== RUN   TestHandler_HandleSearch_MissingQuery
=== PAUSE TestHandler_HandleSearch_MissingQuery
=== NAME  
=== RUN   TestHandler_HandleSearch_Success
=== PAUSE TestHandler_HandleSearch_Success
=== NAME  
=== RUN   TestHandler_HandleDebugScores
=== PAUSE TestHandler_HandleDebugScores
=== NAME  
=== RUN   TestHandler_HandleDebugCache
=== PAUSE TestHandler_HandleDebugCache
=== NAME  
=== RUN   TestHandler_HandleDebugDiscoveryErrors
=== PAUSE TestHandler_HandleDebugDiscoveryErrors
=== NAME  
=== RUN   TestHandler_RegisterRoutes
=== PAUSE TestHandler_RegisterRoutes
=== NAME  
=== RUN   TestHandler_UpdateCache
=== PAUSE TestHandler_UpdateCache
=== NAME  
=== RUN   TestHandler_InvalidateCache
=== PAUSE TestHandler_InvalidateCache
=== NAME  
=== RUN   TestHandler_SuggestFromContext
=== PAUSE TestHandler_SuggestFromContext
=== NAME  
=== RUN   TestValidateSessionID_Empty
=== PAUSE TestValidateSessionID_Empty
=== NAME  
=== RUN   TestValidateSessionID_TooLong
=== PAUSE TestValidateSessionID_TooLong
=== NAME  
=== RUN   TestValidateSessionID_InvalidChars
=== PAUSE TestValidateSessionID_InvalidChars
=== NAME  
=== RUN   TestValidateSessionID_ValidWithDashes
=== PAUSE TestValidateSessionID_ValidWithDashes
=== NAME  
=== RUN   TestValidateSessionID_MaxLength
=== PAUSE TestValidateSessionID_MaxLength
=== NAME  
=== RUN   TestValidateCommandID_Empty
=== PAUSE TestValidateCommandID_Empty
=== NAME  
=== RUN   TestValidateCommandID_TooLong
=== PAUSE TestValidateCommandID_TooLong
=== NAME  
=== RUN   TestValidateCwd_Empty
=== PAUSE TestValidateCwd_Empty
=== NAME  
=== RUN   TestValidateCwd_RelativePath
=== PAUSE TestValidateCwd_RelativePath
=== NAME  
=== RUN   TestValidateCwd_TooLong
=== PAUSE TestValidateCwd_TooLong
=== NAME  
=== RUN   TestValidateCwd_ValidAbsolutePath
=== PAUSE TestValidateCwd_ValidAbsolutePath
=== NAME  
=== RUN   TestValidateCommand_Empty
=== PAUSE TestValidateCommand_Empty
=== NAME  
=== RUN   TestValidateCommand_TooLong
=== PAUSE TestValidateCommand_TooLong
=== NAME  
=== RUN   TestValidateTimestamp_Zero
=== PAUSE TestValidateTimestamp_Zero
=== NAME  
=== RUN   TestValidateTimestamp_Negative
=== PAUSE TestValidateTimestamp_Negative
=== NAME  
=== RUN   TestValidateTimestamp_TooFarInFuture
=== PAUSE TestValidateTimestamp_TooFarInFuture
=== NAME  
=== RUN   TestValidateTimestamp_Valid
=== PAUSE TestValidateTimestamp_Valid
=== NAME  
=== RUN   TestValidateTimestamp_SlightlyInFuture
=== PAUSE TestValidateTimestamp_SlightlyInFuture
=== NAME  
=== RUN   TestValidateExitCode_Valid
=== PAUSE TestValidateExitCode_Valid
=== NAME  
=== RUN   TestValidateExitCode_TooLow
=== PAUSE TestValidateExitCode_TooLow
=== NAME  
=== RUN   TestValidateExitCode_TooHigh
=== PAUSE TestValidateExitCode_TooHigh
=== NAME  
=== RUN   TestValidateDurationMs_Negative_Clamped
=== PAUSE TestValidateDurationMs_Negative_Clamped
=== NAME  
=== RUN   TestValidateDurationMs_ExceedsMax_Clamped
=== PAUSE TestValidateDurationMs_ExceedsMax_Clamped
=== NAME  
=== RUN   TestValidateDurationMs_ValidZero
=== PAUSE TestValidateDurationMs_ValidZero
=== NAME  
=== RUN   TestValidateDurationMs_ValidNormal
=== PAUSE TestValidateDurationMs_ValidNormal
=== NAME  
=== RUN   TestValidateLimit_Zero_DefaultsTo10
=== PAUSE TestValidateLimit_Zero_DefaultsTo10
=== NAME  
=== RUN   TestValidateLimit_BelowMin_Clamped
=== PAUSE TestValidateLimit_BelowMin_Clamped
=== NAME  
=== RUN   TestValidateLimit_AboveMax_Clamped
=== PAUSE TestValidateLimit_AboveMax_Clamped
=== NAME  
=== RUN   TestValidateLimit_ValidInRange
=== PAUSE TestValidateLimit_ValidInRange
=== NAME  
=== RUN   TestValidateCursorPos_Negative_Clamped
=== PAUSE TestValidateCursorPos_Negative_Clamped
=== NAME  
=== RUN   TestValidateCursorPos_ExceedsBufferLen_Clamped
=== PAUSE TestValidateCursorPos_ExceedsBufferLen_Clamped
=== NAME  
=== RUN   TestValidateCursorPos_Valid
=== PAUSE TestValidateCursorPos_Valid
=== NAME  
=== RUN   TestValidateCursorPos_EmptyBuffer_ZeroOk
=== PAUSE TestValidateCursorPos_EmptyBuffer_ZeroOk
=== NAME  
=== RUN   TestValidateGitBranch_TooLong
=== PAUSE TestValidateGitBranch_TooLong
=== NAME  
=== RUN   TestValidateGitBranch_Valid
=== PAUSE TestValidateGitBranch_Valid
=== NAME  
=== RUN   TestValidateGitBranch_Empty_NoError
=== PAUSE TestValidateGitBranch_Empty_NoError
=== NAME  
=== RUN   TestValidateGitRepoName_TooLong
=== PAUSE TestValidateGitRepoName_TooLong
=== NAME  
=== RUN   TestValidateGitRepoName_Valid
=== PAUSE TestValidateGitRepoName_Valid
=== NAME  
=== RUN   TestValidateGitRepoRoot_TooLong
=== PAUSE TestValidateGitRepoRoot_TooLong
=== NAME  
=== RUN   TestValidateGitRepoRoot_RelativePath
=== PAUSE TestValidateGitRepoRoot_RelativePath
=== NAME  
=== RUN   TestValidateGitRepoRoot_ValidAbsolutePath
=== PAUSE TestValidateGitRepoRoot_ValidAbsolutePath
=== NAME  
=== RUN   TestValidateRepoKey_TooLong
=== PAUSE TestValidateRepoKey_TooLong
=== NAME  
=== RUN   TestValidateRepoKey_Valid
=== PAUSE TestValidateRepoKey_Valid
=== NAME  
=== RUN   TestValidateRepoKey_Empty_NoError
=== PAUSE TestValidateRepoKey_Empty_NoError
=== NAME  
=== RUN   TestValidateIncludeLowConfidence_True
=== PAUSE TestValidateIncludeLowConfidence_True
=== NAME  
=== RUN   TestValidateIncludeLowConfidence_False
=== PAUSE TestValidateIncludeLowConfidence_False
=== NAME  
=== RUN   TestValidateBuffer_TooLong
=== PAUSE TestValidateBuffer_TooLong
=== NAME  
=== RUN   TestValidateBuffer_Empty_NoError
=== PAUSE TestValidateBuffer_Empty_NoError
=== NAME  
=== RUN   TestValidateCommandStartRequest_AllValid
=== PAUSE TestValidateCommandStartRequest_AllValid
=== NAME  
=== RUN   TestValidateCommandEndRequest_AllValid
=== PAUSE TestValidateCommandEndRequest_AllValid
=== NAME  
=== RUN   TestValidateSuggestRequest_AllValid
=== PAUSE TestValidateSuggestRequest_AllValid
=== NAME  
=== RUN   TestValidationError_Error
=== PAUSE TestValidationError_Error
=== NAME  
=== RUN   TestValidationError_ToAPIError
=== PAUSE TestValidationError_ToAPIError
=== NAME  
=== RUN   TestValidationResult_HasErrors
=== PAUSE TestValidationResult_HasErrors
=== NAME  
=== RUN   TestValidationResult_FirstError
=== PAUSE TestValidationResult_FirstError
=== NAME  
=== RUN   TestNewValidationErrorResponse
=== PAUSE TestNewValidationErrorResponse
=== NAME  
=== RUN   TestValidateCommandStartRequest_MultipleErrors
=== PAUSE TestValidateCommandStartRequest_MultipleErrors
=== NAME  
=== RUN   TestCleanStringField
=== PAUSE TestCleanStringField
=== NAME  
=== RUN   TestBoundaryClamping_DurationMs
=== PAUSE TestBoundaryClamping_DurationMs
=== NAME  
=== RUN   TestBoundaryClamping_MaxResults
=== PAUSE TestBoundaryClamping_MaxResults
=== NAME  
=== RUN   TestBoundaryClamping_CursorPos
=== PAUSE TestBoundaryClamping_CursorPos
=== NAME  
=== CONT  TestHandler_HandleSuggest_CacheHit
=== CONT  TestValidateDurationMs_ValidZero
=== CONT  TestValidateSessionID_ValidWithDashes
--- PASS: TestValidateSessionID_ValidWithDashes (0.00s)
=== CONT  TestValidateTimestamp_Negative
=== CONT  TestValidateCwd_Empty
=== CONT  TestBoundaryClamping_DurationMs
=== CONT  TestValidateCommandID_TooLong
=== RUN   TestBoundaryClamping_DurationMs/zero
=== CONT  TestNewValidationErrorResponse
=== PAUSE TestBoundaryClamping_DurationMs/zero
=== NAME  TestBoundaryClamping_DurationMs
=== CONT  TestValidationResult_HasErrors
=== RUN   TestBoundaryClamping_DurationMs/positive_normal
=== CONT  TestValidationError_ToAPIError
=== CONT  TestValidationResult_FirstError
=== CONT  TestValidateCommandStartRequest_MultipleErrors
=== CONT  TestValidateCommandID_Empty
=== CONT  TestValidateSuggestRequest_AllValid
=== PAUSE TestBoundaryClamping_DurationMs/positive_normal
=== NAME  TestBoundaryClamping_DurationMs
=== CONT  TestValidateCommandStartRequest_AllValid
=== CONT  TestValidationError_Error
=== RUN   TestBoundaryClamping_DurationMs/at_max
=== PAUSE TestBoundaryClamping_DurationMs/at_max
=== CONT  TestValidateIncludeLowConfidence_False
=== CONT  TestBoundaryClamping_MaxResults
=== CONT  TestValidateIncludeLowConfidence_True
=== CONT  TestValidateRepoKey_Valid
=== RUN   TestBoundaryClamping_MaxResults/zero_defaults_to_10
=== CONT  TestValidateGitBranch_TooLong
--- PASS: TestValidateDurationMs_ValidZero (0.00s)
=== CONT  TestCleanStringField
=== CONT  TestValidateCwd_TooLong
=== CONT  TestValidateRepoKey_Empty_NoError
=== CONT  TestValidateGitRepoRoot_TooLong
=== CONT  TestValidateGitRepoName_Valid
=== CONT  TestValidateRepoKey_TooLong
=== CONT  TestValidateCwd_RelativePath
=== CONT  TestValidateCommand_TooLong
=== CONT  TestValidateBuffer_Empty_NoError
=== CONT  TestValidateGitRepoRoot_RelativePath
=== CONT  TestValidateBuffer_TooLong
=== CONT  TestValidateCwd_ValidAbsolutePath
=== CONT  TestValidateGitRepoName_TooLong
=== CONT  TestValidateGitBranch_Empty_NoError
=== CONT  TestBoundaryClamping_CursorPos
=== CONT  TestValidateGitBranch_Valid
=== NAME  TestBoundaryClamping_DurationMs
=== RUN   TestBoundaryClamping_CursorPos/zero_with_empty_buffer
=== CONT  TestValidateCursorPos_Negative_Clamped
=== PAUSE TestBoundaryClamping_CursorPos/zero_with_empty_buffer
=== RUN   TestBoundaryClamping_DurationMs/above_max
=== CONT  TestHandler_HandleDebugScores
=== PAUSE TestBoundaryClamping_DurationMs/above_max
=== NAME  TestBoundaryClamping_DurationMs
=== PAUSE TestBoundaryClamping_MaxResults/zero_defaults_to_10
--- PASS: TestValidateTimestamp_Negative (0.00s)
=== NAME  TestBoundaryClamping_MaxResults
=== CONT  TestValidateGitRepoRoot_ValidAbsolutePath
=== RUN   TestBoundaryClamping_MaxResults/below_min_clamps_to_1
=== PAUSE TestBoundaryClamping_MaxResults/below_min_clamps_to_1
=== CONT  TestValidateLimit_Zero_DefaultsTo10
=== CONT  TestValidateTimestamp_Zero
--- PASS: TestValidateGitRepoRoot_ValidAbsolutePath (0.00s)
--- PASS: TestHandler_HandleSuggest_CacheHit (0.00s)
=== CONT  TestValidateSessionID_MaxLength
=== CONT  TestValidateSessionID_InvalidChars
=== CONT  TestHandler_SuggestFromContext
--- PASS: TestValidateCommandID_TooLong (0.00s)
=== CONT  TestValidateCursorPos_Valid
--- PASS: TestNewValidationErrorResponse (0.00s)
--- PASS: TestValidateCwd_Empty (0.00s)
--- PASS: TestValidationResult_HasErrors (0.00s)
--- PASS: TestValidationResult_FirstError (0.00s)
=== CONT  TestValidateLimit_ValidInRange
=== CONT  TestHandler_HandleDebugDiscoveryErrors
=== CONT  TestHandler_RegisterRoutes
=== NAME  TestBoundaryClamping_CursorPos
=== RUN   TestBoundaryClamping_DurationMs/negative
=== NAME  TestBoundaryClamping_MaxResults
=== RUN   TestBoundaryClamping_MaxResults/at_min
=== PAUSE TestBoundaryClamping_DurationMs/negative
=== CONT  TestValidateCommandEndRequest_AllValid
=== CONT  TestValidateCommand_Empty
=== PAUSE TestBoundaryClamping_MaxResults/at_min
=== NAME  TestBoundaryClamping_MaxResults
=== CONT  TestValidateSessionID_Empty
=== CONT  TestHandler_HandleSuggest_MissingSessionID
=== CONT  TestValidateSessionID_TooLong
--- PASS: TestValidationError_ToAPIError (0.00s)
=== RUN   TestBoundaryClamping_CursorPos/zero_with_content
=== CONT  TestHandler_HandleSearch_FTS5Unavailable
=== PAUSE TestBoundaryClamping_CursorPos/zero_with_content
=== NAME  TestBoundaryClamping_CursorPos
--- PASS: TestValidateCommandStartRequest_MultipleErrors (0.00s)
=== RUN   TestBoundaryClamping_CursorPos/at_buffer_length
--- PASS: TestValidateCommandID_Empty (0.00s)
--- PASS: TestValidateSuggestRequest_AllValid (0.00s)
--- PASS: TestValidateCommandStartRequest_AllValid (0.00s)
=== CONT  TestHandler_HandleSuggest_CacheMiss
=== RUN   TestBoundaryClamping_MaxResults/normal
=== PAUSE TestBoundaryClamping_CursorPos/at_buffer_length
=== CONT  TestHandler_HandleSearch_MissingQuery
=== NAME  TestBoundaryClamping_CursorPos
=== CONT  TestHandler_HandleDebugCache
=== RUN   TestBoundaryClamping_CursorPos/exceeds_buffer_length
=== PAUSE TestBoundaryClamping_MaxResults/normal
=== NAME  TestBoundaryClamping_MaxResults
=== RUN   TestBoundaryClamping_MaxResults/at_max
=== PAUSE TestBoundaryClamping_MaxResults/at_max
=== NAME  TestBoundaryClamping_MaxResults
=== RUN   TestBoundaryClamping_MaxResults/above_max_clamps_to_50
=== PAUSE TestBoundaryClamping_CursorPos/exceeds_buffer_length
=== CONT  TestHandler_HandleSuggest_InvalidJSON
=== CONT  TestHandler_HandleSearch_Success
=== PAUSE TestBoundaryClamping_MaxResults/above_max_clamps_to_50
=== NAME  TestBoundaryClamping_CursorPos
=== RUN   TestBoundaryClamping_CursorPos/negative_clamped_to_0
=== CONT  TestHandler_UpdateCache
=== CONT  TestHandler_NewHandler
=== NAME  TestBoundaryClamping_MaxResults
--- PASS: TestValidationError_Error (0.00s)
=== PAUSE TestBoundaryClamping_CursorPos/negative_clamped_to_0
=== NAME  TestBoundaryClamping_DurationMs
=== RUN   TestBoundaryClamping_DurationMs/very_negative
=== CONT  TestValidateExitCode_TooLow
=== NAME  TestBoundaryClamping_CursorPos
=== PAUSE TestBoundaryClamping_DurationMs/very_negative
=== CONT  TestValidateTimestamp_SlightlyInFuture
=== CONT  TestValidateExitCode_Valid
=== NAME  TestBoundaryClamping_DurationMs
=== CONT  TestValidateTimestamp_Valid
--- PASS: TestValidateIncludeLowConfidence_False (0.00s)
=== CONT  TestValidateExitCode_TooHigh
=== CONT  TestHandler_InvalidateCache
--- PASS: TestValidateIncludeLowConfidence_True (0.00s)
--- PASS: TestValidateRepoKey_Valid (0.00s)
=== CONT  TestValidateCursorPos_ExceedsBufferLen_Clamped
=== CONT  TestValidateDurationMs_Negative_Clamped
=== CONT  TestValidateDurationMs_ValidNormal
--- PASS: TestValidateGitBranch_TooLong (0.00s)
--- PASS: TestCleanStringField (0.00s)
=== CONT  TestValidateLimit_BelowMin_Clamped
=== CONT  TestValidateDurationMs_ExceedsMax_Clamped
=== CONT  TestBoundaryClamping_MaxResults/below_min_clamps_to_1
=== CONT  TestBoundaryClamping_MaxResults/normal
--- PASS: TestBoundaryClamping_MaxResults/below_min_clamps_to_1 (0.00s)
=== CONT  TestBoundaryClamping_MaxResults/above_max_clamps_to_50
--- PASS: TestBoundaryClamping_MaxResults/normal (0.00s)
--- PASS: TestBoundaryClamping_MaxResults/above_max_clamps_to_50 (0.00s)
=== CONT  TestValidateCursorPos_EmptyBuffer_ZeroOk
=== CONT  TestBoundaryClamping_MaxResults/zero_defaults_to_10
=== CONT  TestValidateLimit_AboveMax_Clamped
--- PASS: TestBoundaryClamping_MaxResults/zero_defaults_to_10 (0.00s)
=== CONT  TestBoundaryClamping_CursorPos/zero_with_empty_buffer
=== CONT  TestValidateTimestamp_TooFarInFuture
--- PASS: TestBoundaryClamping_CursorPos/zero_with_empty_buffer (0.00s)
=== CONT  TestBoundaryClamping_CursorPos/exceeds_buffer_length
--- PASS: TestBoundaryClamping_CursorPos/exceeds_buffer_length (0.00s)
=== CONT  TestBoundaryClamping_CursorPos/negative_clamped_to_0
=== CONT  TestBoundaryClamping_CursorPos/zero_with_content
--- PASS: TestBoundaryClamping_CursorPos/negative_clamped_to_0 (0.00s)
=== CONT  TestBoundaryClamping_DurationMs/very_negative
--- PASS: TestBoundaryClamping_DurationMs/very_negative (0.00s)
--- PASS: TestBoundaryClamping_CursorPos/zero_with_content (0.00s)
=== CONT  TestBoundaryClamping_MaxResults/at_min
--- PASS: TestBoundaryClamping_MaxResults/at_min (0.00s)
=== CONT  TestHandler_HandleSuggest_WithLimit
=== CONT  TestBoundaryClamping_DurationMs/zero
--- PASS: TestBoundaryClamping_DurationMs/zero (0.00s)
=== CONT  TestBoundaryClamping_DurationMs/above_max
--- PASS: TestValidateRepoKey_Empty_NoError (0.00s)
--- PASS: TestBoundaryClamping_DurationMs/above_max (0.00s)
=== CONT  TestBoundaryClamping_DurationMs/negative
--- PASS: TestBoundaryClamping_DurationMs/negative (0.00s)
--- PASS: TestValidateCwd_TooLong (0.00s)
=== CONT  TestBoundaryClamping_DurationMs/positive_normal
--- PASS: TestValidateGitRepoRoot_TooLong (0.00s)
--- PASS: TestValidateGitRepoName_Valid (0.00s)
--- PASS: TestValidateRepoKey_TooLong (0.00s)
=== CONT  TestBoundaryClamping_MaxResults/at_max
=== CONT  TestBoundaryClamping_DurationMs/at_max
--- PASS: TestBoundaryClamping_MaxResults/at_max (0.00s)
--- PASS: TestBoundaryClamping_DurationMs/positive_normal (0.00s)
--- PASS: TestValidateCwd_RelativePath (0.00s)
--- PASS: TestValidateCommand_TooLong (0.00s)
--- PASS: TestValidateBuffer_Empty_NoError (0.00s)
--- PASS: TestValidateGitRepoRoot_RelativePath (0.00s)
--- PASS: TestValidateCwd_ValidAbsolutePath (0.00s)
--- PASS: TestBoundaryClamping_DurationMs/at_max (0.00s)
--- PASS: TestValidateBuffer_TooLong (0.00s)
=== CONT  TestBoundaryClamping_CursorPos/at_buffer_length
--- PASS: TestValidateGitRepoName_TooLong (0.00s)
--- PASS: TestValidateGitBranch_Empty_NoError (0.00s)
--- PASS: TestValidateGitBranch_Valid (0.00s)
--- PASS: TestBoundaryClamping_CursorPos/at_buffer_length (0.00s)
--- PASS: TestValidateCursorPos_Negative_Clamped (0.00s)
--- PASS: TestValidateLimit_Zero_DefaultsTo10 (0.00s)
--- PASS: TestValidateTimestamp_Zero (0.00s)
--- PASS: TestValidateSessionID_MaxLength (0.00s)
--- PASS: TestHandler_HandleDebugScores (0.00s)
--- PASS: TestValidateSessionID_InvalidChars (0.00s)
--- PASS: TestValidateCursorPos_Valid (0.00s)
--- PASS: TestValidateLimit_ValidInRange (0.00s)
--- PASS: TestHandler_RegisterRoutes (0.00s)
--- PASS: TestValidateCommandEndRequest_AllValid (0.00s)
--- PASS: TestValidateCommand_Empty (0.00s)
--- PASS: TestValidateSessionID_Empty (0.00s)
--- PASS: TestValidateSessionID_TooLong (0.00s)
--- PASS: TestHandler_HandleDebugDiscoveryErrors (0.00s)
--- PASS: TestHandler_HandleSuggest_MissingSessionID (0.00s)
--- PASS: TestHandler_HandleDebugCache (0.00s)
--- PASS: TestHandler_UpdateCache (0.00s)
--- PASS: TestHandler_NewHandler (0.00s)
--- PASS: TestHandler_HandleSuggest_InvalidJSON (0.00s)
--- PASS: TestHandler_HandleSearch_FTS5Unavailable (0.00s)
--- PASS: TestValidateExitCode_TooLow (0.00s)
--- PASS: TestValidateTimestamp_SlightlyInFuture (0.00s)
--- PASS: TestValidateExitCode_Valid (0.00s)
--- PASS: TestValidateTimestamp_Valid (0.00s)
--- PASS: TestHandler_InvalidateCache (0.00s)
--- PASS: TestValidateExitCode_TooHigh (0.00s)
--- PASS: TestValidateCursorPos_ExceedsBufferLen_Clamped (0.00s)
--- PASS: TestValidateDurationMs_Negative_Clamped (0.00s)
--- PASS: TestValidateDurationMs_ValidNormal (0.00s)
--- PASS: TestValidateLimit_BelowMin_Clamped (0.00s)
--- PASS: TestValidateDurationMs_ExceedsMax_Clamped (0.00s)
--- PASS: TestValidateCursorPos_EmptyBuffer_ZeroOk (0.00s)
--- PASS: TestValidateLimit_AboveMax_Clamped (0.00s)
--- PASS: TestValidateTimestamp_TooFarInFuture (0.00s)
--- PASS: TestHandler_HandleSuggest_WithLimit (0.00s)
--- PASS: TestBoundaryClamping_MaxResults (0.00s)
--- PASS: TestBoundaryClamping_DurationMs (0.00s)
--- PASS: TestBoundaryClamping_CursorPos (0.00s)
--- PASS: TestHandler_SuggestFromContext (0.02s)
--- PASS: TestHandler_HandleSuggest_CacheMiss (0.02s)
--- PASS: TestHandler_HandleSearch_MissingQuery (0.04s)
--- PASS: TestHandler_HandleSearch_Success (0.04s)
PASS
ok  	github.com/runger/clai/internal/suggestions/api	2.977s
