{
  "summary": {
    "shell": "bash",
    "total": 10,
    "passed": 8,
    "failed": 2,
    "skipped": 0,
    "duration_ms": 23572,
    "failures": [
      {
        "ok": false,
        "name": "Suggestion shows transition reason",
        "reason": "expected screen to match: (trans|transition|reasons)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/004-Suggestion_shows_transition_reason.png",
        "terminal_excerpt": "TEST> git add .\nTEST> clai suggest git --format=json --limit=5\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest git --format=json --limit=5\",\"last_\ncmd_norm\":\"clai <arg> <arg> --format=json --limit=5\"},\"suggestions\":[]}\nTEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggest API returns expected JSON structure",
        "reason": "expected screen to match: (reason|reasons|source)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/010-Suggest_API_returns_expected_JSON_structure.png",
        "terminal_excerpt": "Changes not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   .tmp/e2e-test-server/clai/logs/daemon.log\n        modified:   .tmp/e2e-test-server/clai/state.db-wal\n        modified:   .tmp/e2e-test-server/gotty.log\n        modified:   .tmp/e2e-test-server/home/.bash_history\n        modified:   .tmp/e2e-test-server/home/.kube/cache/http/859e5574972018b481cf40fcba021a31756afcc36a2b88b1f6aaf9dfd67b21cd\n\n[1]+  Done                    ( clai-shim session-start --session-id=\"$CLAI_SESSION_ID\" --cwd=\"$PWD\" --shell=\"$CLAI_CURRENT_SHELL\" > /dev/null 2>&1; alia\ns -p | clai-shim alias-sync --session-id=\"$CLAI_SESSION_ID\" --shell=\"$CLAI_CURRENT_SHELL\" --stdin > /dev/null 2>&1; clai-shim import-history --shell=\"$CL\nAI_CURRENT_SHELL\" --if-not-exists > /dev/null 2>&1 )\nTEST> git log --oneline -1\n54f04c64 (HEAD -> chore/spec-reviews) test2\nTEST> clai suggest git --format=json --limit=5\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest git --format=json --limit=5\",\"last_\ncmd_norm\":\"clai <arg> <arg> --format=json --limit=5\"},\"suggestions\":[]}\nTEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "plan": "suggestions-tests.yaml"
      }
    ]
  },
  "results": [
    {
      "ok": true,
      "name": "clai suggest text format",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest JSON format",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest with prefix filters results",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion shows transition reason",
      "reason": "expected screen to match: (trans|transition|reasons)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/004-Suggestion_shows_transition_reason.png",
      "terminal_excerpt": "TEST> git add .\nTEST> clai suggest git --format=json --limit=5\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest git --format=json --limit=5\",\"last_\ncmd_norm\":\"clai <arg> <arg> --format=json --limit=5\"},\"suggestions\":[]}\nTEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Suggestion shows freq_repo reason",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Suggestion includes confidence score",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Ghost text suggestion appears",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Alt+Right accepts next token",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Discovery shows project_task reason",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggest API returns expected JSON structure",
      "reason": "expected screen to match: (reason|reasons|source)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/010-Suggest_API_returns_expected_JSON_structure.png",
      "terminal_excerpt": "Changes not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   .tmp/e2e-test-server/clai/logs/daemon.log\n        modified:   .tmp/e2e-test-server/clai/state.db-wal\n        modified:   .tmp/e2e-test-server/gotty.log\n        modified:   .tmp/e2e-test-server/home/.bash_history\n        modified:   .tmp/e2e-test-server/home/.kube/cache/http/859e5574972018b481cf40fcba021a31756afcc36a2b88b1f6aaf9dfd67b21cd\n\n[1]+  Done                    ( clai-shim session-start --session-id=\"$CLAI_SESSION_ID\" --cwd=\"$PWD\" --shell=\"$CLAI_CURRENT_SHELL\" > /dev/null 2>&1; alia\ns -p | clai-shim alias-sync --session-id=\"$CLAI_SESSION_ID\" --shell=\"$CLAI_CURRENT_SHELL\" --stdin > /dev/null 2>&1; clai-shim import-history --shell=\"$CL\nAI_CURRENT_SHELL\" --if-not-exists > /dev/null 2>&1 )\nTEST> git log --oneline -1\n54f04c64 (HEAD -> chore/spec-reviews) test2\nTEST> clai suggest git --format=json --limit=5\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest git --format=json --limit=5\",\"last_\ncmd_norm\":\"clai <arg> <arg> --format=json --limit=5\"},\"suggestions\":[]}\nTEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "plan": "suggestions-tests.yaml"
    }
  ]
}