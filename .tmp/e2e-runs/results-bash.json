{
  "summary": {
    "shell": "bash",
    "total": 79,
    "passed": 53,
    "failed": 26,
    "skipped": 18,
    "duration_ms": 136214,
    "failures": [
      {
        "ok": false,
        "name": "History picker fuzzy search filters results",
        "reason": "expected screen to contain: apple | expected screen to contain: apricot",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/002-History_picker_fuzzy_search_filters_results.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "History scope switching with Tab",
        "reason": "expected screen to match: (git|echo|ls|make)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/006-History_scope_switching_with_Tab.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Global history contains cross-session commands",
        "reason": "expected screen to match: (git|make|cd|ls)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/008-Global_history_contains_cross-session_commands.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai loads successfully in bash",
        "reason": "expected screen not to contain: Error",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/012-clai_loads_successfully_in_bash.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai status shows session info",
        "reason": "expected screen to contain: bash",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/019-clai_status_shows_session_info.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai history filters successful commands",
        "reason": "expected screen to contain: HISTORY_SUCCESS_FILTER_PASS",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/023-clai_history_filters_successful_commands.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai history filters failed commands",
        "reason": "expected screen to contain: HISTORY_FAILURE_FILTER_PASS",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/024-clai_history_filters_failed_commands.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "CWD scope works with paths containing spaces",
        "reason": "expected screen to contain: command in spaced dir",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/034-CWD_scope_works_with_paths_containing_spaces.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Incognito mode can be disabled",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/038-Incognito_mode_can_be_disabled.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "CLAI_NO_RECORD prevents all ingestion",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/039-CLAI_NO_RECORD_prevents_all_ingestion.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Command ingestion captures exit code success",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/040-Command_ingestion_captures_exit_code_success.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Command ingestion captures exit code failure",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/041-Command_ingestion_captures_exit_code_failure.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Command ingestion captures CWD",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/042-Command_ingestion_captures_CWD.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Command with special characters ingested",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/043-Command_with_special_characters_ingested.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "Command with unicode characters ingested",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/044-Command_with_unicode_characters_ingested.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai daemon status shows state",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/045-clai_daemon_status_shows_state.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai daemon start works",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/046-clai_daemon_start_works.png",
        "plan": "example-test-plan.yaml"
      },
      {
        "ok": false,
        "name": "clai suggest text format",
        "reason": "expected screen to match: \\d+\\.",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/049-clai_suggest_text_format.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "clai suggest with prefix filters results",
        "reason": "expected screen not to contain: npm | expected screen not to contain: make",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/053-clai_suggest_with_prefix_filters_results.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggestion shows transition reason",
        "reason": "expected screen to contain: transition",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/054-Suggestion_shows_transition_reason.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggestion shows freq_repo reason",
        "reason": "expected screen to match: (freq_repo|freq_global)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/055-Suggestion_shows_freq_repo_reason.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Ghost text suggestion appears",
        "reason": "expected screen to contain: git status",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/058-Ghost_text_suggestion_appears.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Alt+Right accepts next token",
        "reason": "expected screen to contain: kubectl get",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/062-Alt_Right_accepts_next_token.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Alt+H opens suggestion picker (bash)",
        "reason": "expected screen to match: (fzf|suggest|pick)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/073-Alt_H_opens_suggestion_picker_bash_.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Discovery shows project_task reason",
        "reason": "expected screen to contain: project_task",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/082-Discovery_shows_project_task_reason.png",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggest API returns expected JSON structure",
        "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/095-Suggest_API_returns_expected_JSON_structure.png",
        "plan": "suggestions-tests.yaml"
      }
    ]
  },
  "results": [
    {
      "ok": true,
      "name": "History picker opens with Alt+H",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "History picker fuzzy search filters results",
      "reason": "expected screen to contain: apple | expected screen to contain: apricot",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/002-History_picker_fuzzy_search_filters_results.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "History picker navigation with arrow keys",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "History picker Enter inserts command",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "History picker Escape cancels",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "History scope switching with Tab",
      "reason": "expected screen to match: (git|echo|ls|make)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/006-History_scope_switching_with_Tab.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Session history is isolated from global",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Global history contains cross-session commands",
      "reason": "expected screen to match: (git|make|cd|ls)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/008-Global_history_contains_cross-session_commands.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Long command shows truncation indicator",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Enter inserts full untruncated command",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Ctrl+C copies full untruncated command",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai loads successfully in bash",
      "reason": "expected screen not to contain: Error",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/012-clai_loads_successfully_in_bash.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Session ID is set",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "History command shows session history",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "clai cmd converts natural language to command",
      "reason": "clai cmd not yet fully implemented",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "clai cmd caches suggestion for completion",
      "reason": "clai cmd not yet fully implemented",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "clai ask answers terminal questions",
      "reason": "clai ask not yet fully implemented",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "clai ask with context flag",
      "reason": "clai ask not yet fully implemented",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai status shows session info",
      "reason": "expected screen to contain: bash",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/019-clai_status_shows_session_info.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai history with session flag",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai history with global flag",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai history filters by CWD",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai history filters successful commands",
      "reason": "expected screen to contain: HISTORY_SUCCESS_FILTER_PASS",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/023-clai_history_filters_successful_commands.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai history filters failed commands",
      "reason": "expected screen to contain: HISTORY_FAILURE_FILTER_PASS",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/024-clai_history_filters_failed_commands.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai off disables integration",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai on re-enables integration",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "PTY wrapper captures stdout",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "PTY wrapper handles colors",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "PTY wrapper Ctrl+C handling",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Voice mode converts natural language",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Empty command line doesn't crash",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Very long command doesn't overflow",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Special characters handled correctly",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "CWD scope works with paths containing spaces",
      "reason": "expected screen to contain: command in spaced dir",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/034-CWD_scope_works_with_paths_containing_spaces.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "History args handle special path characters",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Incognito mode can be enabled",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "Commands in incognito mode not persisted",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Incognito mode can be disabled",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/038-Incognito_mode_can_be_disabled.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "CLAI_NO_RECORD prevents all ingestion",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/039-CLAI_NO_RECORD_prevents_all_ingestion.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Command ingestion captures exit code success",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/040-Command_ingestion_captures_exit_code_success.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Command ingestion captures exit code failure",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/041-Command_ingestion_captures_exit_code_failure.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Command ingestion captures CWD",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/042-Command_ingestion_captures_CWD.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Command with special characters ingested",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/043-Command_with_special_characters_ingested.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "Command with unicode characters ingested",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/044-Command_with_unicode_characters_ingested.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai daemon status shows state",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/045-clai_daemon_status_shows_state.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai daemon start works",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/046-clai_daemon_start_works.png",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai daemon stop graceful shutdown",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": true,
      "name": "clai daemon restart sequence",
      "plan": "example-test-plan.yaml"
    },
    {
      "ok": false,
      "name": "clai suggest text format",
      "reason": "expected screen to match: \\d+\\.",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/049-clai_suggest_text_format.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest JSON format",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest fzf format",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest with limit",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "clai suggest with prefix filters results",
      "reason": "expected screen not to contain: npm | expected screen not to contain: make",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/053-clai_suggest_with_prefix_filters_results.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion shows transition reason",
      "reason": "expected screen to contain: transition",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/054-Suggestion_shows_transition_reason.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion shows freq_repo reason",
      "reason": "expected screen to match: (freq_repo|freq_global)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/055-Suggestion_shows_freq_repo_reason.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Suggestion includes confidence score",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Suggestion context includes last_cmd_norm",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Ghost text suggestion appears",
      "reason": "expected screen to contain: git status",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/058-Ghost_text_suggestion_appears.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Right arrow accepts full suggestion",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Escape clears suggestion",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Typing clears ghost text",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Alt+Right accepts next token",
      "reason": "expected screen to contain: kubectl get",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/062-Alt_Right_accepts_next_token.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Typo correction suggests on exit 127",
      "reason": "Typo correction backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Typo correction respects similarity threshold",
      "reason": "Typo correction backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Typo correction prioritizes high-frequency commands",
      "reason": "Typo correction backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Slot filling learns argument values",
      "reason": "Slot filling backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Slot filling respects frequency",
      "reason": "Slot filling backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Slot scope repo overrides global",
      "reason": "Slot filling backend not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Suggestions served from cache",
      "reason": "Cache introspection not yet exposed in CLI",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Cache TTL expires stale entries",
      "reason": "Cache introspection not yet exposed in CLI",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Cache invalidated on new command",
      "reason": "Cache introspection not yet exposed in CLI",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Cache shows in debug endpoint",
      "reason": "Cache introspection not yet exposed in CLI",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Alt+H opens suggestion picker (bash)",
      "reason": "expected screen to match: (fzf|suggest|pick)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/073-Alt_H_opens_suggestion_picker_bash_.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search basic query",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search with repo filter",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search with limit",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search with JSON output",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search empty results",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai search with special characters",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Discovery finds package.json scripts",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Discovery finds Makefile targets",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Discovery shows project_task reason",
      "reason": "expected screen to contain: project_task",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/082-Discovery_shows_project_task_reason.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Discovery finds Cargo.toml commands",
      "reason": "Cargo discovery not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Discovery finds pyproject.toml scripts",
      "reason": "pyproject.toml discovery not yet implemented",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug scores endpoint returns data",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug scores with limit parameter",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug transitions endpoint returns data",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug tasks endpoint returns discovered tasks",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug discovery-errors endpoint",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Debug endpoints return valid JSON",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Incognito mode toggle",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Incognito commands appear in session suggestions",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "Incognito commands not in global suggestions",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "CLAI_EPHEMERAL affects suggestions",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggest API returns expected JSON structure",
      "reason": "page.goto: net::ERR_CONNECTION_REFUSED at http://127.0.0.1:8080/\nCall log:\n\u001b[2m  - navigating to \"http://127.0.0.1:8080/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-bash/095-Suggest_API_returns_expected_JSON_structure.png",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Suggest API includes cache status",
      "reason": "Cache status field not yet exposed",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "skipped": true,
      "name": "Suggest API includes timing info",
      "reason": "Timing info not yet exposed",
      "plan": "suggestions-tests.yaml"
    }
  ]
}