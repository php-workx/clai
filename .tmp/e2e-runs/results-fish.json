{
  "summary": {
    "shell": "fish",
    "total": 10,
    "passed": 2,
    "failed": 8,
    "skipped": 0,
    "duration_ms": 64966,
    "failures": [
      {
        "ok": false,
        "name": "clai suggest text format",
        "reason": "expected screen to match: \\d+\\. | expected screen to match: \\(",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/001-clai_suggest_text_format.png",
        "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/4e/4e83ecf15c3283b1d7fb1122f07896442a2f9c41cb759eac47f45fbdf123fe1a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/5d/5d5a3444e061912f7107f14d46d4327fab649a0dc3c527bd0674a9acda7fb163-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/5e/5e81daedbbadf0b9daf0151d5bf143954b68435f2e728fbab215f37490794894-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/67/67fa598d209272f9de414533ca0bea19cb7006bfb1c121f0944ff686781edc41-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/6d/6df19df9b0c559f68383743874e3fb4120f591c720ec785ca2eafc71aea30735-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/77/7749e1b8718ad1dae3c9b4c55c37a4db8b374c1e79393b5f6a4556d5734f9171-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/7a/7ae25852a551895c9820d3458bb2117352829a004a727b214477300a9337ca29-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/85/859ec6913e9f163177c89904aff6fb4e0ff46ddfcdc05e7550f1e3f31d5ec407-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/90/90234618d17a34f6cf40f16b72cea2ec05a2dca538d4d49c62c182905c10f71a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/90/90e7233b1ff3e029698faf2470f50fe4879e80295f224e9e5a66a47a758d9931-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/91/91147a5a30deeb6e9d2b61c212ae72248b47fd19a48c52df165c902aa97c2e36-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/94/94813c3c09ce4e5c02c6dad906af357cc926425eb48342c011da3e078ba64a7e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/9b/9be45935f304d4129ca9609be45d60109db9791347c3fe81693588b94e3294f7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/a8/a8a4ed5e76e1fd20d766ffdd810904dbab2520e373abe20f4f946095f77143fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad225bb595a3a44378a76efb087436eca9cd5d80438bcf7372df04a8832c2e7a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad573d93641fb0c689df9c3e38fffcda06698f3ad251e7e44c9fc072977c7a0a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/b9/b95059ca798aa87dab135698919e861ba60b5d620f4e23a2593a657ab94eb06c-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ba/bab0aef53da6eda3e6fef67113c10df615d62c00218f02cfd49064b5c82bdb2d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/be/be04e4c819fd1bca5134bc224b36dd90609aa6aa7e4960fa949247755a5e2414-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/bf/bfb5116f89fb21d6b6ce4a267265b9a059224ffe231e0047d52c8fb92c80e86d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c37489baa3af3f757f7a6a35d08043cf1e373671becfaa3fb1096b3d70ecb0da-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c749513537add32dd7a5091176d5dfb559ccefbcbe0b675109698f023c94355f-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c7b7aede6f3986d6470cb8fed8d20cc57ed00c08b26c72702c55b13710e28a10-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cfed606f710be8ca1b1b3e7e730f34f1867e5ac30231887d2afe1c7f052623a0-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cffcb6e055fd38acc91e3bd7aa2daed6a01b03170b47779ea215274ce67549de-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/dafa0d1288e8c62b386cf75ae07f78e0886ac8305ae4243d9c32354a0e28ff09-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddf44d28758b661ba0354bf8d24504ee285a7629e17993199c9686c6e5fd67ce-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e7/e7c8e7a6b4485c41a421be81a00eedb3746bd273c7a3706c5fb7ffebbe6062be-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ff/ffbfba479a7ee51c77a1678461122ace34775f282d07ad706058793c1ecc1986-a\n\nTEST> make build\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai ./cmd/clai\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/claid ./cmd/claid\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai-shim ./cmd/clai-shim\ngo build -ldflags \"-X main.Version=ed8033d4-dirty -X main.GitCommit=ed8033d4 -X main.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai-picker ./cmd/clai-picker\nTEST> clai suggest\n ",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggestion shows transition reason",
        "reason": "expected screen to contain: transition",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/004-Suggestion_shows_transition_reason.png",
        "terminal_excerpt": " create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/9c/9c043c02b6399789e514a63c1bad2b8dd5a28e14fd7081f95370bc8339e1c17a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/9c/9cdfdc2953797f6b87e11ee0314037dc8b14746738611e2c7a2383e7c34ade89-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/a5/a5a9facbd2065d56af86d76443d790ae837d0e38a591ad1947d559f6ae7239c6-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/a8/a8a4ed5e76e1fd20d766ffdd810904dbab2520e373abe20f4f946095f77143fa-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad225bb595a3a44378a76efb087436eca9cd5d80438bcf7372df04a8832c2e7a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad573d93641fb0c689df9c3e38fffcda06698f3ad251e7e44c9fc072977c7a0a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/b2/b2736c8601aa1fbc6d3ca9126d543a81bee92451711ea296a7ad5ba1fd20101b-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/b9/b95059ca798aa87dab135698919e861ba60b5d620f4e23a2593a657ab94eb06c-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ba/bab0aef53da6eda3e6fef67113c10df615d62c00218f02cfd49064b5c82bdb2d-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/be/be04e4c819fd1bca5134bc224b36dd90609aa6aa7e4960fa949247755a5e2414-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/bf/bfb5116f89fb21d6b6ce4a267265b9a059224ffe231e0047d52c8fb92c80e86d-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c0/c032ef4b046e32947a7db696cdde061ef40de30e0f85167ee22208652ab15970-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c37489baa3af3f757f7a6a35d08043cf1e373671becfaa3fb1096b3d70ecb0da-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c399bc9c251afa3315e2fff107ffeca24f9e98d7866fb9b073dc9b0da2932da8-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c749513537add32dd7a5091176d5dfb559ccefbcbe0b675109698f023c94355f-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c7b7aede6f3986d6470cb8fed8d20cc57ed00c08b26c72702c55b13710e28a10-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cd/cd3e57acccbac8801b961b42a0e408ba766df2125973b2721e54dbfe3f7290f6-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cfed606f710be8ca1b1b3e7e730f34f1867e5ac30231887d2afe1c7f052623a0-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cffcb6e055fd38acc91e3bd7aa2daed6a01b03170b47779ea215274ce67549de-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/d3/d36f7a03a874fdc7930e0ac650eb6d37c7fc8574a0e23937d82dce03207a81f0-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/d3/d3a7571e8137410702eef6bf7e72c00579c28719e389f2fa4b2ee4f2dff95edf-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/da/dafa0d1288e8c62b386cf75ae07f78e0886ac8305ae4243d9c32354a0e28ff09-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddf44d28758b661ba0354bf8d24504ee285a7629e17993199c9686c6e5fd67ce-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/de/dead6c64db6b54b740f54c7844661a7943b72eee98dec8e1dcd04798deda9b55-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/e2/e2c8e6424f9a615154b3b2d55353877ca1e0fcb2cce313d01d3950f16d2bdeec-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/e7/e7c8e7a6b4485c41a421be81a00eedb3746bd273c7a3706c5fb7ffebbe6062be-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/f3/f391a8d5d7fb11e7d7023655b4e7ccf4ae2375889b9353ccbada150553bcedbc-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f7b156a0276bdd6bb3f7bd4bc2099bc167bdddd52b64797e9741b14423d9305d-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/fc/fced6fb8c76733cba32992fb72e817c163e37d081b93b177a4a150e178e96f7a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe924d388bfed61759c1ee0755f715652dfbeb8085952908735a6ba2749e6371-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ff/ffbfba479a7ee51c77a1678461122ace34775f282d07ad706058793c1ecc1986-a\nTEST> git add .\nTEST> git commit -m 'test2'\n[chore/spec-reviews 0d20a1ad] test2\n 3 files changed, 10 insertions(+)\nTEST> git add .\nTEST> clai suggest --format=json\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest --format=json\",\"last_cmd_norm\":\"cla\ni <arg> --format=json\"},\"suggestions\":[]}\nTEST>  ",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggestion shows freq_repo reason",
        "reason": "expected screen to match: (freq_repo|freq_global)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/005-Suggestion_shows_freq_repo_reason.png",
        "terminal_excerpt": " ✓ Fish run wrapper exists (0.61s)\n ✓ Fish session ID exists (0.61s)\n ✓ Fish source without error (0.61s)\n ✓ Fish status shows correct shell (0.91s)\n ✓ Fish voice function exists (0.61s)\n ✓ Fish voice mode function (0.61s)\n ✓ Performance bash integration overhead (0.45s)\n ✓ Performance fish integration overhead (0.33s)\n ✓ Performance init command fast (0.21s)\n ✓ Performance init command fast bash (0.07s)\n ✓ Performance init command fast fish (0.07s)\n ✓ Performance init command fast zsh (0.07s)\n ✓ Performance no blocking IPC on startup (2.79s)\n ✓ Performance no blocking IPC on startup bash (0.92s)\n ✓ Performance no blocking IPC on startup fish (0.92s)\n ✓ Performance no blocking IPC on startup zsh (0.95s)\n ✓ Performance source script fast (0.95s)\n ✓ Performance source script fast bash (0.32s)\n ✓ Performance source script fast fish (0.31s)\n ✓ Performance source script fast zsh (0.33s)\n ✓ Performance zsh integration overhead (0.42s)\n ✓ Zsh ZLE reset prompt with widget guard (0.12s)\n ✓ Zsh ctrl space shows menu (1.01s)\n ✓ Zsh doctor shows correct shell (3.62s)\n ✓ Zsh escape not bound (0.81s)\n ✓ Zsh eval with history alias (0.16s)\n ✓ Zsh ghost text persists after space (0.47s)\n ✓ Zsh history fallback when disabled (0.35s)\n ✓ Zsh install detects shell (0.61s)\n ✓ Zsh long suggestion truncated (0.31s)\n ✓ Zsh natural language prefix (0.49s)\n ✓ Zsh right arrow accepts suggestion (0.61s)\n ✓ Zsh session cleanup on exit (10.21s)\n ✓ Zsh source without error (0.19s)\n ✓ Zsh status shows correct shell (0.61s)\n ✓ Zsh suggestion appears in right prompt (0.81s)\n ✓ Zsh works with existing RPS1 (0.60s)\n\nclai suggest --format=json\n ",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggestion includes confidence score",
        "reason": "expected screen to contain: confidence",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/006-Suggestion_includes_confidence_score.png",
        "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/d7/d7df122342d1129f19344a26884a8e896afb16f62aa1a0dc0984446894469621-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/d9/d9dd3dbf4b45a7b0ac206522360d1aaa0c61cd694e7b889ade6e673e3bc69111-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/da65176766735a549db3c2d7df53527e5666cff639bfdaab58c8039b6b09aebc-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/dab5a03441f28766e50640a1d1a38a101a75b3d46ef8386e6e5b292f274d6829-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dc/dcdd572eac83eb2e7823ab0fb2644e8e3e31d6575126bb71a2b9705a3d7d2a2a-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/dd48a12757cc422931bbcf97af052d45635980568b2b6f1b49c7cab5fa8a3c04-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddda4e17b2ec109d8d7904a963b3e6281d94c076c7c6ed31b173cc12510e4ff3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/df/dfece532440262870d2ff5a23df2c4f7968206ba7a046c1a7664b6d661695f6d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e0/e09367fbc375a307cd74ce9911ede31b93bdbcceec2a36a04edcd4f4f2e6e552-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e1/e10317926561b83257b604cfc7138d03cf14a67cea940b2ae57ba4b652d04964-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e4/e4a6ba082ad00f060b6ba6615330416fefb8953546b70baea4df51990527f53d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e5/e53d0f692665f8b38d97f8abcea1ea5daccf4952946e30cdcae586654443e4a1-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e6/e6c240edb2d1dc9ada7001e04333964def40c5cbfb884649fab7bb41980bae96-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e9/e9c6e77dc8a2155f1e669f5beae90f59298d63e03f0e0eaf242731a0855de313-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed60878c7a69a96e4a1d7b8e624cab9995e1b0e50e1806e9c1688387bea1fd32-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed89f3b32fd2b6a3c64f2d12ab01003923ccbf66ec3299af4f189991a60329bd-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee62899e124851bddfbc68bc413fb01fb6520c448d9d4275bb53a26ce4c0ca74-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee7c8fe31c6d6b24a2da9fa6b281c1074f113940229ccbf05ebd2bce9e596a38-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ef/efd0068537154b753eb4bb9ccdd14bc42178054992b9d39a036d08b26cc46bc9-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f13237122e57c1f1a7c9220fa5cb45b5e75e038ac309b0e11516e93fbe63450e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1484d6d9fa966718db738b0a23f6d3e33a8f5ff79950ef591bbc95d64721935-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f15cf147779a2e7dcf274802def5c0280b58577025911e214a680fb8ed205c33-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f16929029ec6461e2cdd5e312d26537ea8e7a31bffe6b59efb9b11304ac5b7fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1e6c883682dc15098f92bbc4df48cbb26d79bfd79524aac008b434bba4d9137-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f5/f54c8b66c040dbbdeaf358aeb957fea14a0f358f9ac534106ce43b9fd6be741e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f6/f611f413a54b2a64325a858d9565d6dfc7ef6d88f38469e0e8e9c9af80aef7d6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f76ed64edc9411d130b69dfb816fd28d0ad4bb4599b5cdca6c93867f95aeef08-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f777649ea4cd9b10a8e0dc91d88d590cac6e49472d92931fe321901889179da6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f8/f857cfe925d7d25551c72b30b0c1178b87f5a17075ac68c49b9d615639b64602-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9985a83bbef73e9362291748df1dccc47234925801a291ea63307b30ce607e3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9dad70f8b93de252442fcbe8a7908e9f5e2cab1ae24ab9573b5345d6cd71f0c-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fb/fb647d1cf78e8fa7c64882cfb3cd5ef0df7ba2c76f941819352c496ffa95fd64-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fd/fd648b873a1720743711e70d27b0e30ea5587797f8f1fb5b1f32c79bdc3e68b7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe0590149cb75339a3dc58176fb5fa7dfdafe8d5508d01ea4f402dc9d50bd577-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe8d1b0ed3c2e3ddce46e8bb48bedd92257a9c762c358679e07fe17e0ddea959-a\n\nTEST> clai suggest --format=json\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest --format=json\",\"last_cmd_norm\":\"cla\ni <arg> --format=json\"},\"suggestions\":[]}\nTEST>  ",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Ghost text suggestion appears",
        "reason": "expected screen to contain: git status",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/007-Ghost_text_suggestion_appears.png",
        "terminal_excerpt": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Alt+Right accepts next token",
        "reason": "expected screen to contain: kubectl get",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/008-Alt_Right_accepts_next_token.png",
        "terminal_excerpt": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Discovery shows project_task reason",
        "reason": "expected screen to contain: project_task",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/009-Discovery_shows_project_task_reason.png",
        "terminal_excerpt": "TEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "plan": "suggestions-tests.yaml"
      },
      {
        "ok": false,
        "name": "Suggest API returns expected JSON structure",
        "reason": "expected screen to contain: suggestions | expected screen to match: (reason|reasons)",
        "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/010-Suggest_API_returns_expected_JSON_structure.png",
        "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddda4e17b2ec109d8d7904a963b3e6281d94c076c7c6ed31b173cc12510e4ff3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/df/dfece532440262870d2ff5a23df2c4f7968206ba7a046c1a7664b6d661695f6d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e0/e09367fbc375a307cd74ce9911ede31b93bdbcceec2a36a04edcd4f4f2e6e552-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e1/e10317926561b83257b604cfc7138d03cf14a67cea940b2ae57ba4b652d04964-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e4/e4a6ba082ad00f060b6ba6615330416fefb8953546b70baea4df51990527f53d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e5/e53d0f692665f8b38d97f8abcea1ea5daccf4952946e30cdcae586654443e4a1-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e6/e6c240edb2d1dc9ada7001e04333964def40c5cbfb884649fab7bb41980bae96-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e9/e9c6e77dc8a2155f1e669f5beae90f59298d63e03f0e0eaf242731a0855de313-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed60878c7a69a96e4a1d7b8e624cab9995e1b0e50e1806e9c1688387bea1fd32-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed89f3b32fd2b6a3c64f2d12ab01003923ccbf66ec3299af4f189991a60329bd-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee62899e124851bddfbc68bc413fb01fb6520c448d9d4275bb53a26ce4c0ca74-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee7c8fe31c6d6b24a2da9fa6b281c1074f113940229ccbf05ebd2bce9e596a38-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ef/efd0068537154b753eb4bb9ccdd14bc42178054992b9d39a036d08b26cc46bc9-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f13237122e57c1f1a7c9220fa5cb45b5e75e038ac309b0e11516e93fbe63450e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1484d6d9fa966718db738b0a23f6d3e33a8f5ff79950ef591bbc95d64721935-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f15cf147779a2e7dcf274802def5c0280b58577025911e214a680fb8ed205c33-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f16929029ec6461e2cdd5e312d26537ea8e7a31bffe6b59efb9b11304ac5b7fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1e6c883682dc15098f92bbc4df48cbb26d79bfd79524aac008b434bba4d9137-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f5/f54c8b66c040dbbdeaf358aeb957fea14a0f358f9ac534106ce43b9fd6be741e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f6/f611f413a54b2a64325a858d9565d6dfc7ef6d88f38469e0e8e9c9af80aef7d6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f76ed64edc9411d130b69dfb816fd28d0ad4bb4599b5cdca6c93867f95aeef08-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f777649ea4cd9b10a8e0dc91d88d590cac6e49472d92931fe321901889179da6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f8/f857cfe925d7d25551c72b30b0c1178b87f5a17075ac68c49b9d615639b64602-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9985a83bbef73e9362291748df1dccc47234925801a291ea63307b30ce607e3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9dad70f8b93de252442fcbe8a7908e9f5e2cab1ae24ab9573b5345d6cd71f0c-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fb/fb647d1cf78e8fa7c64882cfb3cd5ef0df7ba2c76f941819352c496ffa95fd64-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fd/fd648b873a1720743711e70d27b0e30ea5587797f8f1fb5b1f32c79bdc3e68b7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe0590149cb75339a3dc58176fb5fa7dfdafe8d5508d01ea4f402dc9d50bd577-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe8d1b0ed3c2e3ddce46e8bb48bedd92257a9c762c358679e07fe17e0ddea959-a\n\nTEST> make build\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai ./cmd/clai\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/claid ./cmd/claid\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai-shim ./cmd/clai-shim\ngo build -ldflags \"-X main.Version=0d20a1ad-dirty -X main.GitCommit=0d20a1ad -X main.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai-picker ./cmd/clai-picker\nTEST> clai suggest --format=json\n ",
        "plan": "suggestions-tests.yaml"
      }
    ]
  },
  "results": [
    {
      "ok": false,
      "name": "clai suggest text format",
      "reason": "expected screen to match: \\d+\\. | expected screen to match: \\(",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/001-clai_suggest_text_format.png",
      "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/4e/4e83ecf15c3283b1d7fb1122f07896442a2f9c41cb759eac47f45fbdf123fe1a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/5d/5d5a3444e061912f7107f14d46d4327fab649a0dc3c527bd0674a9acda7fb163-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/5e/5e81daedbbadf0b9daf0151d5bf143954b68435f2e728fbab215f37490794894-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/67/67fa598d209272f9de414533ca0bea19cb7006bfb1c121f0944ff686781edc41-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/6d/6df19df9b0c559f68383743874e3fb4120f591c720ec785ca2eafc71aea30735-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/77/7749e1b8718ad1dae3c9b4c55c37a4db8b374c1e79393b5f6a4556d5734f9171-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/7a/7ae25852a551895c9820d3458bb2117352829a004a727b214477300a9337ca29-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/85/859ec6913e9f163177c89904aff6fb4e0ff46ddfcdc05e7550f1e3f31d5ec407-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/90/90234618d17a34f6cf40f16b72cea2ec05a2dca538d4d49c62c182905c10f71a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/90/90e7233b1ff3e029698faf2470f50fe4879e80295f224e9e5a66a47a758d9931-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/91/91147a5a30deeb6e9d2b61c212ae72248b47fd19a48c52df165c902aa97c2e36-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/94/94813c3c09ce4e5c02c6dad906af357cc926425eb48342c011da3e078ba64a7e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/9b/9be45935f304d4129ca9609be45d60109db9791347c3fe81693588b94e3294f7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/a8/a8a4ed5e76e1fd20d766ffdd810904dbab2520e373abe20f4f946095f77143fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad225bb595a3a44378a76efb087436eca9cd5d80438bcf7372df04a8832c2e7a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad573d93641fb0c689df9c3e38fffcda06698f3ad251e7e44c9fc072977c7a0a-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/b9/b95059ca798aa87dab135698919e861ba60b5d620f4e23a2593a657ab94eb06c-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ba/bab0aef53da6eda3e6fef67113c10df615d62c00218f02cfd49064b5c82bdb2d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/be/be04e4c819fd1bca5134bc224b36dd90609aa6aa7e4960fa949247755a5e2414-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/bf/bfb5116f89fb21d6b6ce4a267265b9a059224ffe231e0047d52c8fb92c80e86d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c37489baa3af3f757f7a6a35d08043cf1e373671becfaa3fb1096b3d70ecb0da-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c749513537add32dd7a5091176d5dfb559ccefbcbe0b675109698f023c94355f-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c7b7aede6f3986d6470cb8fed8d20cc57ed00c08b26c72702c55b13710e28a10-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cfed606f710be8ca1b1b3e7e730f34f1867e5ac30231887d2afe1c7f052623a0-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cffcb6e055fd38acc91e3bd7aa2daed6a01b03170b47779ea215274ce67549de-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/dafa0d1288e8c62b386cf75ae07f78e0886ac8305ae4243d9c32354a0e28ff09-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddf44d28758b661ba0354bf8d24504ee285a7629e17993199c9686c6e5fd67ce-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e7/e7c8e7a6b4485c41a421be81a00eedb3746bd273c7a3706c5fb7ffebbe6062be-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ff/ffbfba479a7ee51c77a1678461122ace34775f282d07ad706058793c1ecc1986-a\n\nTEST> make build\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai ./cmd/clai\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/claid ./cmd/claid\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=ed8033d4-dirty -X github.com/runger/clai/internal/cmd.GitCommit=ed8033d4 -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai-shim ./cmd/clai-shim\ngo build -ldflags \"-X main.Version=ed8033d4-dirty -X main.GitCommit=ed8033d4 -X main.BuildDate=2026-02-20T08:31:01Z\" -o bin/clai-picker ./cmd/clai-picker\nTEST> clai suggest\n ",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest JSON format",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": true,
      "name": "clai suggest with prefix filters results",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion shows transition reason",
      "reason": "expected screen to contain: transition",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/004-Suggestion_shows_transition_reason.png",
      "terminal_excerpt": " create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/9c/9c043c02b6399789e514a63c1bad2b8dd5a28e14fd7081f95370bc8339e1c17a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/9c/9cdfdc2953797f6b87e11ee0314037dc8b14746738611e2c7a2383e7c34ade89-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/a5/a5a9facbd2065d56af86d76443d790ae837d0e38a591ad1947d559f6ae7239c6-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/a8/a8a4ed5e76e1fd20d766ffdd810904dbab2520e373abe20f4f946095f77143fa-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad225bb595a3a44378a76efb087436eca9cd5d80438bcf7372df04a8832c2e7a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ad/ad573d93641fb0c689df9c3e38fffcda06698f3ad251e7e44c9fc072977c7a0a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/b2/b2736c8601aa1fbc6d3ca9126d543a81bee92451711ea296a7ad5ba1fd20101b-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/b9/b95059ca798aa87dab135698919e861ba60b5d620f4e23a2593a657ab94eb06c-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ba/bab0aef53da6eda3e6fef67113c10df615d62c00218f02cfd49064b5c82bdb2d-d\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/be/be04e4c819fd1bca5134bc224b36dd90609aa6aa7e4960fa949247755a5e2414-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/bf/bfb5116f89fb21d6b6ce4a267265b9a059224ffe231e0047d52c8fb92c80e86d-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c0/c032ef4b046e32947a7db696cdde061ef40de30e0f85167ee22208652ab15970-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c37489baa3af3f757f7a6a35d08043cf1e373671becfaa3fb1096b3d70ecb0da-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c3/c399bc9c251afa3315e2fff107ffeca24f9e98d7866fb9b073dc9b0da2932da8-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c749513537add32dd7a5091176d5dfb559ccefbcbe0b675109698f023c94355f-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/c7/c7b7aede6f3986d6470cb8fed8d20cc57ed00c08b26c72702c55b13710e28a10-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cd/cd3e57acccbac8801b961b42a0e408ba766df2125973b2721e54dbfe3f7290f6-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cfed606f710be8ca1b1b3e7e730f34f1867e5ac30231887d2afe1c7f052623a0-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/cf/cffcb6e055fd38acc91e3bd7aa2daed6a01b03170b47779ea215274ce67549de-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/d3/d36f7a03a874fdc7930e0ac650eb6d37c7fc8574a0e23937d82dce03207a81f0-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/d3/d3a7571e8137410702eef6bf7e72c00579c28719e389f2fa4b2ee4f2dff95edf-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/da/dafa0d1288e8c62b386cf75ae07f78e0886ac8305ae4243d9c32354a0e28ff09-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddf44d28758b661ba0354bf8d24504ee285a7629e17993199c9686c6e5fd67ce-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/de/dead6c64db6b54b740f54c7844661a7943b72eee98dec8e1dcd04798deda9b55-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/e2/e2c8e6424f9a615154b3b2d55353877ca1e0fcb2cce313d01d3950f16d2bdeec-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/e7/e7c8e7a6b4485c41a421be81a00eedb3746bd273c7a3706c5fb7ffebbe6062be-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/f3/f391a8d5d7fb11e7d7023655b4e7ccf4ae2375889b9353ccbada150553bcedbc-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f7b156a0276bdd6bb3f7bd4bc2099bc167bdddd52b64797e9741b14423d9305d-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/fc/fced6fb8c76733cba32992fb72e817c163e37d081b93b177a4a150e178e96f7a-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe924d388bfed61759c1ee0755f715652dfbeb8085952908735a6ba2749e6371-a\n create mode 100644 .tmp/e2e-test-server/home/Library/Caches/go-build/ff/ffbfba479a7ee51c77a1678461122ace34775f282d07ad706058793c1ecc1986-a\nTEST> git add .\nTEST> git commit -m 'test2'\n[chore/spec-reviews 0d20a1ad] test2\n 3 files changed, 10 insertions(+)\nTEST> git add .\nTEST> clai suggest --format=json\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest --format=json\",\"last_cmd_norm\":\"cla\ni <arg> --format=json\"},\"suggestions\":[]}\nTEST>  ",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion shows freq_repo reason",
      "reason": "expected screen to match: (freq_repo|freq_global)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/005-Suggestion_shows_freq_repo_reason.png",
      "terminal_excerpt": " ✓ Fish run wrapper exists (0.61s)\n ✓ Fish session ID exists (0.61s)\n ✓ Fish source without error (0.61s)\n ✓ Fish status shows correct shell (0.91s)\n ✓ Fish voice function exists (0.61s)\n ✓ Fish voice mode function (0.61s)\n ✓ Performance bash integration overhead (0.45s)\n ✓ Performance fish integration overhead (0.33s)\n ✓ Performance init command fast (0.21s)\n ✓ Performance init command fast bash (0.07s)\n ✓ Performance init command fast fish (0.07s)\n ✓ Performance init command fast zsh (0.07s)\n ✓ Performance no blocking IPC on startup (2.79s)\n ✓ Performance no blocking IPC on startup bash (0.92s)\n ✓ Performance no blocking IPC on startup fish (0.92s)\n ✓ Performance no blocking IPC on startup zsh (0.95s)\n ✓ Performance source script fast (0.95s)\n ✓ Performance source script fast bash (0.32s)\n ✓ Performance source script fast fish (0.31s)\n ✓ Performance source script fast zsh (0.33s)\n ✓ Performance zsh integration overhead (0.42s)\n ✓ Zsh ZLE reset prompt with widget guard (0.12s)\n ✓ Zsh ctrl space shows menu (1.01s)\n ✓ Zsh doctor shows correct shell (3.62s)\n ✓ Zsh escape not bound (0.81s)\n ✓ Zsh eval with history alias (0.16s)\n ✓ Zsh ghost text persists after space (0.47s)\n ✓ Zsh history fallback when disabled (0.35s)\n ✓ Zsh install detects shell (0.61s)\n ✓ Zsh long suggestion truncated (0.31s)\n ✓ Zsh natural language prefix (0.49s)\n ✓ Zsh right arrow accepts suggestion (0.61s)\n ✓ Zsh session cleanup on exit (10.21s)\n ✓ Zsh source without error (0.19s)\n ✓ Zsh status shows correct shell (0.61s)\n ✓ Zsh suggestion appears in right prompt (0.81s)\n ✓ Zsh works with existing RPS1 (0.60s)\n\nclai suggest --format=json\n ",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggestion includes confidence score",
      "reason": "expected screen to contain: confidence",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/006-Suggestion_includes_confidence_score.png",
      "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/d7/d7df122342d1129f19344a26884a8e896afb16f62aa1a0dc0984446894469621-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/d9/d9dd3dbf4b45a7b0ac206522360d1aaa0c61cd694e7b889ade6e673e3bc69111-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/da65176766735a549db3c2d7df53527e5666cff639bfdaab58c8039b6b09aebc-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/da/dab5a03441f28766e50640a1d1a38a101a75b3d46ef8386e6e5b292f274d6829-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dc/dcdd572eac83eb2e7823ab0fb2644e8e3e31d6575126bb71a2b9705a3d7d2a2a-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/dd48a12757cc422931bbcf97af052d45635980568b2b6f1b49c7cab5fa8a3c04-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddda4e17b2ec109d8d7904a963b3e6281d94c076c7c6ed31b173cc12510e4ff3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/df/dfece532440262870d2ff5a23df2c4f7968206ba7a046c1a7664b6d661695f6d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e0/e09367fbc375a307cd74ce9911ede31b93bdbcceec2a36a04edcd4f4f2e6e552-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e1/e10317926561b83257b604cfc7138d03cf14a67cea940b2ae57ba4b652d04964-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e4/e4a6ba082ad00f060b6ba6615330416fefb8953546b70baea4df51990527f53d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e5/e53d0f692665f8b38d97f8abcea1ea5daccf4952946e30cdcae586654443e4a1-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e6/e6c240edb2d1dc9ada7001e04333964def40c5cbfb884649fab7bb41980bae96-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e9/e9c6e77dc8a2155f1e669f5beae90f59298d63e03f0e0eaf242731a0855de313-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed60878c7a69a96e4a1d7b8e624cab9995e1b0e50e1806e9c1688387bea1fd32-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed89f3b32fd2b6a3c64f2d12ab01003923ccbf66ec3299af4f189991a60329bd-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee62899e124851bddfbc68bc413fb01fb6520c448d9d4275bb53a26ce4c0ca74-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee7c8fe31c6d6b24a2da9fa6b281c1074f113940229ccbf05ebd2bce9e596a38-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ef/efd0068537154b753eb4bb9ccdd14bc42178054992b9d39a036d08b26cc46bc9-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f13237122e57c1f1a7c9220fa5cb45b5e75e038ac309b0e11516e93fbe63450e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1484d6d9fa966718db738b0a23f6d3e33a8f5ff79950ef591bbc95d64721935-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f15cf147779a2e7dcf274802def5c0280b58577025911e214a680fb8ed205c33-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f16929029ec6461e2cdd5e312d26537ea8e7a31bffe6b59efb9b11304ac5b7fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1e6c883682dc15098f92bbc4df48cbb26d79bfd79524aac008b434bba4d9137-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f5/f54c8b66c040dbbdeaf358aeb957fea14a0f358f9ac534106ce43b9fd6be741e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f6/f611f413a54b2a64325a858d9565d6dfc7ef6d88f38469e0e8e9c9af80aef7d6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f76ed64edc9411d130b69dfb816fd28d0ad4bb4599b5cdca6c93867f95aeef08-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f777649ea4cd9b10a8e0dc91d88d590cac6e49472d92931fe321901889179da6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f8/f857cfe925d7d25551c72b30b0c1178b87f5a17075ac68c49b9d615639b64602-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9985a83bbef73e9362291748df1dccc47234925801a291ea63307b30ce607e3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9dad70f8b93de252442fcbe8a7908e9f5e2cab1ae24ab9573b5345d6cd71f0c-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fb/fb647d1cf78e8fa7c64882cfb3cd5ef0df7ba2c76f941819352c496ffa95fd64-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fd/fd648b873a1720743711e70d27b0e30ea5587797f8f1fb5b1f32c79bdc3e68b7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe0590149cb75339a3dc58176fb5fa7dfdafe8d5508d01ea4f402dc9d50bd577-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe8d1b0ed3c2e3ddce46e8bb48bedd92257a9c762c358679e07fe17e0ddea959-a\n\nTEST> clai suggest --format=json\n{\"timing_hint\":{\"user_speed_class\":\"moderate\",\"suggested_pause_threshold_ms\":200},\"context\":{\"last_cmd\":\"clai suggest --format=json\",\"last_cmd_norm\":\"cla\ni <arg> --format=json\"},\"suggestions\":[]}\nTEST>  ",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Ghost text suggestion appears",
      "reason": "expected screen to contain: git status",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/007-Ghost_text_suggestion_appears.png",
      "terminal_excerpt": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Alt+Right accepts next token",
      "reason": "expected screen to contain: kubectl get",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/008-Alt_Right_accepts_next_token.png",
      "terminal_excerpt": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Discovery shows project_task reason",
      "reason": "expected screen to contain: project_task",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/009-Discovery_shows_project_task_reason.png",
      "terminal_excerpt": "TEST>  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "plan": "suggestions-tests.yaml"
    },
    {
      "ok": false,
      "name": "Suggest API returns expected JSON structure",
      "reason": "expected screen to contain: suggestions | expected screen to match: (reason|reasons)",
      "screenshot": "/Users/runger/.claude-worktrees/clai/spec-reviews/.tmp/e2e-runs/artifacts-fish/010-Suggest_API_returns_expected_JSON_structure.png",
      "terminal_excerpt": "        .tmp/e2e-test-server/home/Library/Caches/go-build/dd/ddda4e17b2ec109d8d7904a963b3e6281d94c076c7c6ed31b173cc12510e4ff3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/df/dfece532440262870d2ff5a23df2c4f7968206ba7a046c1a7664b6d661695f6d-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e0/e09367fbc375a307cd74ce9911ede31b93bdbcceec2a36a04edcd4f4f2e6e552-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e1/e10317926561b83257b604cfc7138d03cf14a67cea940b2ae57ba4b652d04964-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e4/e4a6ba082ad00f060b6ba6615330416fefb8953546b70baea4df51990527f53d-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e5/e53d0f692665f8b38d97f8abcea1ea5daccf4952946e30cdcae586654443e4a1-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e6/e6c240edb2d1dc9ada7001e04333964def40c5cbfb884649fab7bb41980bae96-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/e9/e9c6e77dc8a2155f1e669f5beae90f59298d63e03f0e0eaf242731a0855de313-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed60878c7a69a96e4a1d7b8e624cab9995e1b0e50e1806e9c1688387bea1fd32-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ed/ed89f3b32fd2b6a3c64f2d12ab01003923ccbf66ec3299af4f189991a60329bd-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee62899e124851bddfbc68bc413fb01fb6520c448d9d4275bb53a26ce4c0ca74-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ee/ee7c8fe31c6d6b24a2da9fa6b281c1074f113940229ccbf05ebd2bce9e596a38-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/ef/efd0068537154b753eb4bb9ccdd14bc42178054992b9d39a036d08b26cc46bc9-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f13237122e57c1f1a7c9220fa5cb45b5e75e038ac309b0e11516e93fbe63450e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1484d6d9fa966718db738b0a23f6d3e33a8f5ff79950ef591bbc95d64721935-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f15cf147779a2e7dcf274802def5c0280b58577025911e214a680fb8ed205c33-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f16929029ec6461e2cdd5e312d26537ea8e7a31bffe6b59efb9b11304ac5b7fa-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f1/f1e6c883682dc15098f92bbc4df48cbb26d79bfd79524aac008b434bba4d9137-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f5/f54c8b66c040dbbdeaf358aeb957fea14a0f358f9ac534106ce43b9fd6be741e-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f6/f611f413a54b2a64325a858d9565d6dfc7ef6d88f38469e0e8e9c9af80aef7d6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f76ed64edc9411d130b69dfb816fd28d0ad4bb4599b5cdca6c93867f95aeef08-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f7/f777649ea4cd9b10a8e0dc91d88d590cac6e49472d92931fe321901889179da6-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f8/f857cfe925d7d25551c72b30b0c1178b87f5a17075ac68c49b9d615639b64602-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9985a83bbef73e9362291748df1dccc47234925801a291ea63307b30ce607e3-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/f9/f9dad70f8b93de252442fcbe8a7908e9f5e2cab1ae24ab9573b5345d6cd71f0c-d\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fb/fb647d1cf78e8fa7c64882cfb3cd5ef0df7ba2c76f941819352c496ffa95fd64-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fd/fd648b873a1720743711e70d27b0e30ea5587797f8f1fb5b1f32c79bdc3e68b7-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe0590149cb75339a3dc58176fb5fa7dfdafe8d5508d01ea4f402dc9d50bd577-a\n        .tmp/e2e-test-server/home/Library/Caches/go-build/fe/fe8d1b0ed3c2e3ddce46e8bb48bedd92257a9c762c358679e07fe17e0ddea959-a\n\nTEST> make build\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai ./cmd/clai\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/claid ./cmd/claid\ngo build -ldflags \"-X github.com/runger/clai/internal/cmd.Version=0d20a1ad-dirty -X github.com/runger/clai/internal/cmd.GitCommit=0d20a1ad -X github.com/\nrunger/clai/internal/cmd.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai-shim ./cmd/clai-shim\ngo build -ldflags \"-X main.Version=0d20a1ad-dirty -X main.GitCommit=0d20a1ad -X main.BuildDate=2026-02-20T08:32:01Z\" -o bin/clai-picker ./cmd/clai-picker\nTEST> clai suggest --format=json\n ",
      "plan": "suggestions-tests.yaml"
    }
  ]
}