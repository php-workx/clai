{"id":"ai-terminal-0cx","title":"clai Phase 1 Implementation","description":"Implement the complete clai Phase 1 architecture as specified in tech_design.md:\n- Shell Integration (zsh, bash, PowerShell hooks)\n- Thin Client Binary (clai-shim) for fire-and-forget shell communication\n- User-mode Daemon (clai-daemon) as central brain\n- SQLite storage with WAL mode\n- Provider adapters for AI (Anthropic, OpenAI, Google)\n- Suggestion ranking engine\n- gRPC/Protobuf IPC layer\n\nThis follows the 7-stream parallel implementation plan from the tech spec (Sections 15-18).","status":"open","priority":1,"issue_type":"epic","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:57:07.759409+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:57:07.759409+01:00"}
{"id":"ai-terminal-0cx.1","title":"Stream A: Proto \u0026 gRPC Foundation","description":"**Wave 1 - No Dependencies**\n\nDeliverables:\n- proto/clai/v1/clai.proto (messages and ClaiService from tech_design.md Section 4)\n- gen/proto/clai/v1/*.pb.go (generated)\n- Makefile with proto target\n\nKey Messages: ClientInfo, Ack, SessionStartRequest, SessionEndRequest, CommandStartRequest, CommandEndRequest, SuggestRequest/Response, TextToCommandRequest/Response, NextStepRequest/Response, DiagnoseRequest/Response, StatusResponse\n\nService Methods:\n- Fire-and-Forget: SessionStart, SessionEnd, CommandStarted, CommandEnded\n- Interactive: Suggest, TextToCommand, NextStep, Diagnose\n- Ops: Ping, GetStatus\n\nAcceptance Criteria:\n- make proto generates Go code without errors\n- Generated code compiles\n- Basic gRPC server/client can exchange Ping message\n- All serialization tests pass","status":"closed","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:00.338687+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T18:53:47.337951+01:00","closed_at":"2026-01-29T18:53:47.337951+01:00","close_reason":"Implemented proto/gRPC foundation with all messages and service methods. Tests pass.","dependencies":[{"issue_id":"ai-terminal-0cx.1","depends_on_id":"ai-terminal-0cx","type":"parent-child","created_at":"2026-01-29T17:58:00.339766+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-0cx.2","title":"Stream B: Storage Layer (SQLite)","description":"**Wave 1 - No Dependencies**\n\nDeliverables:\n- internal/storage/db.go - Connection, migrations\n- internal/storage/sessions.go - Session CRUD\n- internal/storage/commands.go - Command CRUD\n- internal/storage/cache.go - AI cache operations\n- internal/storage/queries.go - Raw SQL queries\n\nTables: sessions, commands, ai_cache, schema_meta\nFeatures: WAL mode, schema versioning, concurrent access\n\nAcceptance Criteria:\n- Implements Store interface (Section 15.3)\n- Creates schema on first run\n- All CRUD operations work\n- 90% test coverage\n- WAL mode enabled","status":"closed","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:00.557611+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T19:09:55.996541+01:00","closed_at":"2026-01-29T19:09:55.996541+01:00","close_reason":"Implementation complete: all files created, tests passing, lint clean","dependencies":[{"issue_id":"ai-terminal-0cx.2","depends_on_id":"ai-terminal-0cx","type":"parent-child","created_at":"2026-01-29T17:58:00.55845+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-0cx.3","title":"Stream F: Provider Adapters (AI)","description":"**Wave 1 - No Dependencies**\n\nDeliverables:\n- internal/provider/provider.go - Interface\n- internal/provider/registry.go - Provider selection\n- internal/provider/anthropic.go - Claude CLI/API\n- internal/provider/openai.go - OpenAI CLI/API\n- internal/provider/google.go - Gemini CLI/API\n- internal/provider/context.go - AI context builder\n- internal/sanitize/sanitizer.go - Regex sanitization\n- internal/sanitize/patterns.go - Secret patterns\n- internal/sanitize/risk.go - Destructive detection\n\nFeatures:\n- CLI-first (wrap claude, openai, gemini CLIs)\n- Fallback to direct API\n- Sanitization for AWS keys, JWT, Slack tokens, PEM, passwords\n- Risk tagging for rm -rf, DROP TABLE, --force, etc.\n\nAcceptance Criteria:\n- Implements Provider interface\n- CLI detection with API fallback\n- Sanitizes input before AI calls\n- 10-second timeout for AI calls\n- 80% test coverage","status":"closed","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:00.791476+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T19:09:55.999639+01:00","closed_at":"2026-01-29T19:09:55.999639+01:00","close_reason":"Implementation complete: all files created, tests passing, lint clean","dependencies":[{"issue_id":"ai-terminal-0cx.3","depends_on_id":"ai-terminal-0cx","type":"parent-child","created_at":"2026-01-29T17:58:00.792277+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-0zs","title":"Shell UX Enhancements","description":"Advanced shell integration features for improved command completion and history navigation. These are higher complexity features that require deep shell integration.","status":"open","priority":3,"issue_type":"epic","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:08:30.256491+01:00","created_by":"Ronny Unger","updated_at":"2026-01-28T19:08:30.256491+01:00"}
{"id":"ai-terminal-1uq","title":"Documentation \u0026 README Updates","description":"**Wave 5 - After Integration**\n\nSections:\n- Installation (macOS, Linux, Windows)\n- Quick Start\n- Shell Integration (zsh, bash, PowerShell)\n- Configuration Options\n- AI Provider Setup\n- Troubleshooting / FAQ\n\nAcceptance Criteria:\n- README covers all platforms\n- Shell integration documented\n- Config options documented\n- AI provider setup guide","status":"open","priority":3,"issue_type":"task","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:40.383703+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:40.383703+01:00","dependencies":[{"issue_id":"ai-terminal-1uq","depends_on_id":"ai-terminal-819","type":"blocks","created_at":"2026-01-29T17:59:36.796688+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-3xh","title":"Command suggestion while typing (history matching)","description":"Show command suggestions as user types, matching against command history.\n\n**Inspiration:** Fish shell's autosuggestions, zsh-autosuggestions plugin\n\n**Technical approach:**\n1. ZLE widget hooked to every keystroke (zle -N self-insert)\n2. Parse shell history file (~/.zsh_history, ~/.bash_history)\n3. Fuzzy match current BUFFER against history\n4. Display suggestion in dim text after cursor (POSTDISPLAY in Zsh)\n5. Tab or right-arrow to accept\n\n**Complexity:** High - requires efficient history indexing, per-keystroke performance\n\n**Files:**\n- internal/cmd/shell/zsh/clai.zsh - ZLE hooks\n- internal/cmd/shell/bash/clai.bash - readline integration\n- internal/cmd/shell/fish/clai.fish - Fish already has this, may just enable\n\n**Research needed:**\n- Performance impact of history search on every keystroke\n- How zsh-autosuggestions handles large history files\n- Whether to cache/index history","status":"closed","priority":3,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:08:42.400012+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:54:07.22547+01:00","closed_at":"2026-01-29T17:54:07.22547+01:00","close_reason":"Implemented inline history suggestions using POSTDISPLAY. Right-arrow to accept.","dependencies":[{"issue_id":"ai-terminal-3xh","depends_on_id":"ai-terminal-0zs","type":"parent-child","created_at":"2026-01-28T19:09:13.095286+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-4gx","title":"Add 'Run X to Y' extraction pattern","description":"Commands like 'Run bd doctor --fix to see details' aren't extracted because Pattern 3 requires a colon (Run: X).\n\n**Solution:** Add new pattern to match 'Run \u003ccommand\u003e to \u003caction\u003e' format.\n\n**Files:**\n- internal/extract/extract.go - Add pattern\n- internal/extract/extract_test.go - Add test cases\n\n**Acceptance:** 'Run bd doctor --fix to see details' extracts 'bd doctor --fix'","notes":"On hold per user request","status":"open","priority":4,"issue_type":"bug","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:05:04.161921+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T16:59:38.291786+01:00","dependencies":[{"issue_id":"ai-terminal-4gx","depends_on_id":"ai-terminal-b0k","type":"parent-child","created_at":"2026-01-28T19:05:48.170198+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-69m","title":"Add model selection support (Haiku/Sonnet)","description":"All queries use Claude CLI default model. Want Haiku for fast voice commands, Sonnet for complex diagnosis.\n\n**Solution:**\n1. Add CLAI_MODEL_VOICE and CLAI_MODEL_DIAGNOSE env vars\n2. Pass --model flag to Claude CLI when set\n3. Default: Haiku for voice, Sonnet for diagnose\n\n**Files:**\n- internal/claude/claude.go - Add model parameter to Query functions\n- internal/claude/daemon.go - Model in daemon requests\n- internal/cmd/voice.go - Use voice model\n- internal/cmd/diagnose.go - Use diagnose model\n\n**Acceptance:** CLAI_MODEL_VOICE=haiku uses Haiku for voice commands.","notes":"Implemented: Daemon uses Haiku model. Benchmarked Haiku vs Sonnet (1.28x faster). Model switching mid-session not possible in stream-json mode.","status":"closed","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:05:16.358896+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:37:06.471636+01:00","closed_at":"2026-01-29T17:37:06.471636+01:00","close_reason":"Implemented: Daemon uses Haiku model for fast voice commands. Benchmarked 1.28x faster than Sonnet with equivalent quality.","dependencies":[{"issue_id":"ai-terminal-69m","depends_on_id":"ai-terminal-b0k","type":"parent-child","created_at":"2026-01-28T19:05:48.353461+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-819","title":"Integration Testing \u0026 Checkpoints","description":"**Wave 5 - Depends on all streams**\n\nIntegration Checkpoints:\n- CP1: Basic IPC - Ping works between shim and daemon\n- CP2: Session Flow - Session start/end persists to SQLite\n- CP3: Command Logging - Commands logged with exit codes\n- CP4: Suggestions - History-based suggestions work\n- CP5: AI Integration - Text-to-command with AI provider\n- CP6: Full CLI - All clai commands work end-to-end\n\nDeliverables:\n- tests/integration/e2e_test.go\n- tests/integration/session_test.go\n- tests/integration/suggest_test.go\n- tests/integration/shell_hooks_test.go\n\nShell Compatibility: zsh 5.8+, bash 4.4+/3.2, PowerShell 7.x\n\nAcceptance Criteria:\n- All 6 checkpoints pass\n- E2E tests for session lifecycle\n- E2E tests for suggestions flow\n- CI/CD pipeline runs integration tests","status":"open","priority":2,"issue_type":"task","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:40.186675+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:40.186675+01:00","dependencies":[{"issue_id":"ai-terminal-819","depends_on_id":"ai-terminal-pex","type":"blocks","created_at":"2026-01-29T17:59:36.420901+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-819","depends_on_id":"ai-terminal-8pq","type":"blocks","created_at":"2026-01-29T17:59:36.512022+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-819","depends_on_id":"ai-terminal-uhl","type":"blocks","created_at":"2026-01-29T17:59:36.610578+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-819","depends_on_id":"ai-terminal-0cx.3","type":"blocks","created_at":"2026-01-29T17:59:36.706896+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-8pq","title":"Stream D: clai-daemon (Core Server)","description":"**Wave 3 - Depends on Streams A, B, G**\n\nDeliverables:\n- cmd/clai-daemon/main.go (or integrated into cmd/clai/)\n- internal/daemon/server.go - gRPC server setup\n- internal/daemon/lifecycle.go - Start, stop, idle timeout\n- internal/daemon/session_manager.go - Session tracking\n- internal/daemon/handlers/*.go - All RPC handlers\n\nIPC: Unix socket ~/.clai/run/clai.sock (Windows: named pipe)\nLifecycle: Auto-exit after 20min idle, graceful SIGTERM shutdown\n\nAcceptance Criteria:\n- Listens on Unix socket\n- Writes PID file\n- Handles all gRPC methods\n- Auto-shutdown after idle timeout\n- Cleans up on exit\n- Concurrent session support\n- 80% test coverage","status":"open","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:39.762255+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:39.762255+01:00","dependencies":[{"issue_id":"ai-terminal-8pq","depends_on_id":"ai-terminal-0cx.1","type":"blocks","created_at":"2026-01-29T17:59:35.977582+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-8pq","depends_on_id":"ai-terminal-0cx.2","type":"blocks","created_at":"2026-01-29T17:59:36.067477+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-8pq","depends_on_id":"ai-terminal-h8y","type":"blocks","created_at":"2026-01-29T17:59:36.15713+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-9fr","title":"Fix Tab suggestion cleared prematurely","description":"clai extract overwrites suggestion file even when no pattern matches, clearing previous AI suggestions.\n\n**Solution:** Only write to suggestion cache if a non-empty suggestion was found. Preserve existing suggestion otherwise.\n\n**Files:**\n- internal/cmd/extract.go - Conditional cache write\n\n**Acceptance:** Previous suggestion persists when new command has no extractable suggestion.","status":"open","priority":2,"issue_type":"bug","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:05:10.183394+01:00","created_by":"Ronny Unger","updated_at":"2026-01-28T19:05:10.183394+01:00","dependencies":[{"issue_id":"ai-terminal-9fr","depends_on_id":"ai-terminal-b0k","type":"parent-child","created_at":"2026-01-28T19:05:48.260835+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-9fr","depends_on_id":"ai-terminal-4gx","type":"blocks","created_at":"2026-01-28T19:05:54.478033+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-9gz","title":"Fix Escape key not stopping AI analysis","description":"Two-part fix for interrupting AI analysis:\n\n**Part 1: Documentation (quick win)**\nDocument that Ctrl+C interrupts AI analysis. Update README and shell script comments.\n\n**Part 2: Implement ESC interrupt (investigate)**\nResearch and implement ESC key to interrupt running clai processes and return to terminal.\n\n**Technical context:**\n- Ctrl+C already works (Go context.Context cancellation)\n- ESC is intercepted by shell (ZLE in Zsh) before reaching clai process\n- Shell can't easily send SIGINT to backgrounded subprocess\n\n**Research needed for Part 2:**\n- Can ZLE widget send signal to specific PID?\n- Store clai PID in temp file, ESC handler reads and kills?\n- Or: clai polls a cancel file while waiting for Claude response?\n\n**Files:**\n- README.md - Document Ctrl+C\n- internal/cmd/shell/zsh/clai.zsh - ESC binding + PID tracking\n- internal/cmd/shell/bash/clai.bash - trap + PID tracking\n- internal/cmd/shell/fish/clai.fish - bind escape + PID tracking\n- Possibly: internal/claude/claude.go - poll cancel file\n\n**Acceptance:** \n- README documents Ctrl+C for interruption\n- ESC key stops running analysis and returns to prompt (if feasible)","notes":"On hold per user request","status":"open","priority":4,"issue_type":"bug","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:05:22.896834+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T16:59:40.625654+01:00","dependencies":[{"issue_id":"ai-terminal-9gz","depends_on_id":"ai-terminal-b0k","type":"parent-child","created_at":"2026-01-28T19:05:48.445601+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-b0k","title":"CLAI Improvements","description":"Bug fixes and model selection feature for clai. Covers extraction patterns, suggestion caching, model selection, and diagnosis improvements.","status":"open","priority":1,"issue_type":"epic","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:04:26.732732+01:00","created_by":"Ronny Unger","updated_at":"2026-01-28T19:04:26.732732+01:00"}
{"id":"ai-terminal-b1g","title":"Prevent repetitive error suggestions","description":"Error analysis suggests the same fix repeatedly (e.g., always says 'install requests' even after user tried).\n\n**Solution:**\n1. Cache last N diagnosis results with command hash\n2. Include previous suggestions in prompt context\n3. Add 'I already tried X' awareness\n\n**Files:**\n- internal/cmd/diagnose.go - History-aware prompting\n- internal/cache/cache.go - Add diagnosis history cache\n\n**Acceptance:** Re-running diagnosis for same error provides alternative suggestions.","status":"open","priority":3,"issue_type":"bug","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:05:28.962972+01:00","created_by":"Ronny Unger","updated_at":"2026-01-28T19:05:28.962972+01:00","dependencies":[{"issue_id":"ai-terminal-b1g","depends_on_id":"ai-terminal-b0k","type":"parent-child","created_at":"2026-01-28T19:05:48.535181+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-c8h","title":"Per-tab command history","description":"Maintain separate command history per terminal tab/session, so arrow-up shows commands from current context.\n\n**Problem:** Global history mixes commands from different projects/contexts\n\n**Technical approach:**\n1. Detect terminal tab/session identifier:\n   - $TERM_SESSION_ID (iTerm2)\n   - $KITTY_WINDOW_ID (Kitty)\n   - $GHOSTTY_RESOURCES_DIR + PID (Ghostty)\n   - $TMUX_PANE (tmux)\n   - Fallback: TTY device (/dev/ttys001)\n2. Store history in per-session files: ~/.cache/clai/history/\u003csession-id\u003e\n3. Merge with global history on session end (optional)\n\n**Complexity:** Medium - mostly configuration and file management\n\n**Challenges:**\n- Different terminal emulators use different env vars\n- Session ID persistence across shell restarts\n- History file cleanup for old sessions\n\n**Files:**\n- internal/cmd/shell/zsh/clai.zsh - HISTFILE override\n- internal/cmd/shell/bash/clai.bash - HISTFILE override  \n- internal/cmd/shell/fish/clai.fish - fish_history variable\n- New: internal/cmd/history.go - Session detection logic","notes":"On hold per user request","status":"open","priority":4,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:09:06.208707+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T16:59:39.646024+01:00","dependencies":[{"issue_id":"ai-terminal-c8h","depends_on_id":"ai-terminal-0zs","type":"parent-child","created_at":"2026-01-28T19:09:13.275242+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-h8y","title":"Stream G: Suggestion Ranking Engine","description":"**Wave 2 - Depends on Stream B (storage)**\n\nDeliverables:\n- internal/suggest/ranker.go - Scoring algorithm\n- internal/suggest/sources.go - Session/CWD/Global sources\n- internal/suggest/normalize.go - Command normalization\n\nScoring Formula:\nscore = (source_weight * 0.4) + (recency_score * 0.3) + (success_score * 0.2) + (affinity_score * 0.1)\n\nSource Weights: session=1.0, cwd=0.7, global=0.4\nRecency: 1.0 / (1 + log(hours_since_use + 1))\nSuccess: success_count / (success_count + failure_count)\nAffinity: 1.0 if same tool prefix as last command\n\nAcceptance Criteria:\n- Implements scoring formula\n- Queries all three scopes\n- Merges and deduplicates\n- \u003c 50ms latency for 10K history\n- 85% test coverage","status":"open","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:00.940294+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:00.940294+01:00","labels":["ai-terminal-0cx"],"dependencies":[{"issue_id":"ai-terminal-h8y","depends_on_id":"ai-terminal-0cx.2","type":"blocks","created_at":"2026-01-29T17:59:35.892113+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-nja","title":"Arrow-up history preview (show last N matches)","description":"When pressing arrow-up, show a preview of the last 5 commands matching current input instead of cycling one-by-one.\n\n**Inspiration:** fzf history search, atuin shell history\n\n**Technical approach:**\n1. Override up-arrow ZLE widget (up-line-or-history)\n2. If BUFFER is non-empty, show dropdown/overlay with matching history\n3. Use Zsh's zle -M for message display or POSTDISPLAY\n4. Arrow keys navigate, Enter selects\n5. Escape cancels\n\n**Complexity:** High - requires overlay/popup UI in terminal\n\n**Challenges:**\n- Terminal doesn't have native popup/dropdown support\n- Need to handle terminal resize, scrollback\n- May need to clear/restore display after selection\n\n**Alternative:** Integrate with fzf if available (fzf --history)\n\n**Files:**\n- internal/cmd/shell/zsh/clai.zsh - ZLE widget\n- internal/cmd/shell/bash/clai.bash - bind -x for up-arrow\n- internal/cmd/shell/fish/clai.fish - bind up for fish","notes":"On hold per user request","status":"open","priority":4,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-28T19:08:53.733901+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T16:59:41.816456+01:00","dependencies":[{"issue_id":"ai-terminal-nja","depends_on_id":"ai-terminal-0zs","type":"parent-child","created_at":"2026-01-28T19:09:13.187737+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-pex","title":"Stream C: clai-shim (Thin Client)","description":"**Wave 2 - Depends on Stream A (proto)**\n\nDeliverables:\n- cmd/clai-shim/main.go\n- cmd/clai-shim/commands/*.go (root, session, log, suggest, textcmd)\n- internal/ipc/client.go - gRPC client wrapper\n- internal/ipc/dial.go - Socket connection\n- internal/ipc/spawn.go - Daemon spawning\n\nSubcommands: session-start, session-end, log-start, log-end, suggest, text-to-command\n\nFire-and-Forget Contract:\n- Logging: 10ms timeout, ignore errors\n- Suggestions: 50ms timeout, return empty on timeout\n- Silent failure (exit 0) on all errors\n\nAcceptance Criteria:\n- Connects to Unix socket ~/.clai/run/clai.sock\n- Spawns daemon if socket missing\n- \u003c 10ms startup time\n- Fire-and-forget for logging\n- 75% test coverage","status":"open","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:00.734454+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:00.734454+01:00","labels":["ai-terminal-0cx"],"dependencies":[{"issue_id":"ai-terminal-pex","depends_on_id":"ai-terminal-0cx.1","type":"blocks","created_at":"2026-01-29T17:59:35.803979+01:00","created_by":"Ronny Unger"}]}
{"id":"ai-terminal-uhl","title":"Stream E: CLI Commands \u0026 Shell Hooks","description":"**Wave 4 - Depends on Streams A, B**\n\nDeliverables:\n- cmd/clai/commands/*.go (install, uninstall, status, doctor, logs, config, ask, history, update, daemon)\n- internal/config/*.go (config, paths, validate)\n- hooks/clai.zsh, hooks/clai.bash, hooks/clai.psm1\n\nCLI Commands: install, uninstall, status, doctor, logs, config, ask, history, update, daemon start/stop\n\nShell Hooks: preexec/precmd for zsh/bash, PSReadLine for PowerShell\n\nAcceptance Criteria:\n- All commands from Section 10 implemented\n- clai install modifies rc files correctly\n- clai doctor checks dependencies\n- Shell hooks from Section 6 included\n- 70% test coverage","status":"open","priority":2,"issue_type":"feature","owner":"phpworkx@gmail.com","created_at":"2026-01-29T17:58:39.968856+01:00","created_by":"Ronny Unger","updated_at":"2026-01-29T17:58:39.968856+01:00","dependencies":[{"issue_id":"ai-terminal-uhl","depends_on_id":"ai-terminal-0cx.1","type":"blocks","created_at":"2026-01-29T17:59:36.251662+01:00","created_by":"Ronny Unger"},{"issue_id":"ai-terminal-uhl","depends_on_id":"ai-terminal-0cx.2","type":"blocks","created_at":"2026-01-29T17:59:36.335668+01:00","created_by":"Ronny Unger"}]}
