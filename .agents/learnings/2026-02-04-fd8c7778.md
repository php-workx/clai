# Learning: Bash 3.2 Pseudo-Associative Arrays via Dynamic Variable Names

**ID**: L1
**Category**: architecture
**Confidence**: high

## What We Learned

macOS ships Bash 3.2 which lacks associative arrays. Dynamic variable names via `eval` with script-controlled values provide a safe alternative for simple key-value state (e.g., picker status tracking). This pattern works across Bash 3.2+ without external dependencies.

## Why It Matters

Shell integration code targeting macOS must avoid Bash 4.0+ features; this pattern enables state tracking in picker/completion code without version-gating.

## Source

Session: fd8c7778-b097-4998-b1fb-ec2bfff5b66f

---

# Learning: Fish Shell Silent Cycling vs Visual Menu UX

**ID**: L2
**Category**: debugging
**Confidence**: high

## What We Learned

Fish shell's `commandline` API makes it easy to silently cycle through items (replacing the buffer), but this provides no visual feedback about available options or which item is selected. A visual picker with rendered menu lines, clear indicators (`>`), and explicit open/close lifecycle is necessary for usable item selection in fish.

## Why It Matters

Informs the TUI picker design: the shell-native approach (buffer cycling) is insufficient for multi-item selection; a separate TUI binary with `/dev/tty` rendering is the correct architecture.

## Source

Session: fd8c7778-b097-4998-b1fb-ec2bfff5b66f
